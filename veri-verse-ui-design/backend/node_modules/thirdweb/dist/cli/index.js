#!/usr/bin/env node
"use strict";var op=Object.create;var Fi=Object.defineProperty;var ap=Object.getOwnPropertyDescriptor;var sp=Object.getOwnPropertyNames;var cp=Object.getPrototypeOf,lp=Object.prototype.hasOwnProperty;var fp=(e,t,r)=>t in e?Fi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var pp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of sp(t))!lp.call(e,i)&&i!==r&&Fi(e,i,{get:()=>t[i],enumerable:!(n=ap(t,i))||n.enumerable});return e};var _=(e,t,r)=>(r=e!=null?op(cp(e)):{},pp(t||!e||!e.__esModule?Fi(r,"default",{value:e,enumerable:!0}):r,e));var Ea=(e,t,r)=>(fp(e,typeof t!="symbol"?t+"":t,r),r),Ta=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var b=(e,t,r)=>(Ta(e,t,"read from private field"),r?r.call(e):t.get(e)),G=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},D=(e,t,r,n)=>(Ta(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Vt=(e,t,r,n)=>({set _(i){D(e,t,i,r)},get _(){return b(e,t,n)}});var Na=k((oh,Ii)=>{"use strict";var La=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Ii.exports=La;Ii.exports.default=La});var Ua=k((ah,Rn)=>{"use strict";var Tp=Na(),Pn=new WeakMap,Ba=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,i=e.displayName||e.name||"<anonymous>",o=function(...a){if(Pn.set(o,++n),n===1)r=e.apply(this,a),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return Tp(o,e),Pn.set(o,n),o};Rn.exports=Ba;Rn.exports.default=Ba;Rn.exports.callCount=e=>{if(!Pn.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Pn.get(e)}});var qa=k((sh,Dn)=>{Dn.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Dn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Dn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Ha=k((ch,St)=>{var U=global.process,Ye=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};Ye(U)?(Wa=require("assert"),_t=qa(),Ga=/^win/i.test(U.platform),Yt=require("events"),typeof Yt!="function"&&(Yt=Yt.EventEmitter),U.__signal_exit_emitter__?H=U.__signal_exit_emitter__:(H=U.__signal_exit_emitter__=new Yt,H.count=0,H.emitted={}),H.infinite||(H.setMaxListeners(1/0),H.infinite=!0),St.exports=function(e,t){if(!Ye(global.process))return function(){};Wa.equal(typeof e,"function","a callback must be provided for exit handler"),vt===!1&&Mi();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){H.removeListener(r,e),H.listeners("exit").length===0&&H.listeners("afterexit").length===0&&Fn()};return H.on(r,e),n},Fn=function(){!vt||!Ye(global.process)||(vt=!1,_t.forEach(function(t){try{U.removeListener(t,jn[t])}catch{}}),U.emit=$n,U.reallyExit=Li,H.count-=1)},St.exports.unload=Fn,Ke=function(t,r,n){H.emitted[t]||(H.emitted[t]=!0,H.emit(t,r,n))},jn={},_t.forEach(function(e){jn[e]=function(){if(Ye(global.process)){var r=U.listeners(e);r.length===H.count&&(Fn(),Ke("exit",null,e),Ke("afterexit",null,e),Ga&&e==="SIGHUP"&&(e="SIGINT"),U.kill(U.pid,e))}}}),St.exports.signals=function(){return _t},vt=!1,Mi=function(){vt||!Ye(global.process)||(vt=!0,H.count+=1,_t=_t.filter(function(t){try{return U.on(t,jn[t]),!0}catch{return!1}}),U.emit=Va,U.reallyExit=Ja)},St.exports.load=Mi,Li=U.reallyExit,Ja=function(t){Ye(global.process)&&(U.exitCode=t||0,Ke("exit",U.exitCode,null),Ke("afterexit",U.exitCode,null),Li.call(U,U.exitCode))},$n=U.emit,Va=function(t,r){if(t==="exit"&&Ye(global.process)){r!==void 0&&(U.exitCode=r);var n=$n.apply(this,arguments);return Ke("exit",U.exitCode,null),Ke("afterexit",U.exitCode,null),n}else return $n.apply(this,arguments)}):St.exports=function(){return function(){}};var Wa,_t,Ga,Yt,H,Fn,Ke,jn,vt,Mi,Li,Ja,$n,Va});var Za=k((uh,Pp)=>{Pp.exports={dots:{interval:80,frames:["\u280B","\u2819","\u2839","\u2838","\u283C","\u2834","\u2826","\u2827","\u2807","\u280F"]},dots2:{interval:80,frames:["\u28FE","\u28FD","\u28FB","\u28BF","\u287F","\u28DF","\u28EF","\u28F7"]},dots3:{interval:80,frames:["\u280B","\u2819","\u281A","\u281E","\u2816","\u2826","\u2834","\u2832","\u2833","\u2813"]},dots4:{interval:80,frames:["\u2804","\u2806","\u2807","\u280B","\u2819","\u2838","\u2830","\u2820","\u2830","\u2838","\u2819","\u280B","\u2807","\u2806"]},dots5:{interval:80,frames:["\u280B","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B"]},dots6:{interval:80,frames:["\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2834","\u2832","\u2812","\u2802","\u2802","\u2812","\u281A","\u2819","\u2809","\u2801"]},dots7:{interval:80,frames:["\u2808","\u2809","\u280B","\u2813","\u2812","\u2810","\u2810","\u2812","\u2816","\u2826","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808"]},dots8:{interval:80,frames:["\u2801","\u2801","\u2809","\u2819","\u281A","\u2812","\u2802","\u2802","\u2812","\u2832","\u2834","\u2824","\u2804","\u2804","\u2824","\u2820","\u2820","\u2824","\u2826","\u2816","\u2812","\u2810","\u2810","\u2812","\u2813","\u280B","\u2809","\u2808","\u2808"]},dots9:{interval:80,frames:["\u28B9","\u28BA","\u28BC","\u28F8","\u28C7","\u2867","\u2857","\u284F"]},dots10:{interval:80,frames:["\u2884","\u2882","\u2881","\u2841","\u2848","\u2850","\u2860"]},dots11:{interval:100,frames:["\u2801","\u2802","\u2804","\u2840","\u2880","\u2820","\u2810","\u2808"]},dots12:{interval:80,frames:["\u2880\u2800","\u2840\u2800","\u2804\u2800","\u2882\u2800","\u2842\u2800","\u2805\u2800","\u2883\u2800","\u2843\u2800","\u280D\u2800","\u288B\u2800","\u284B\u2800","\u280D\u2801","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2888\u2829","\u2840\u2899","\u2804\u2859","\u2882\u2829","\u2842\u2898","\u2805\u2858","\u2883\u2828","\u2843\u2890","\u280D\u2850","\u288B\u2820","\u284B\u2880","\u280D\u2841","\u288B\u2801","\u284B\u2801","\u280D\u2809","\u280B\u2809","\u280B\u2809","\u2809\u2819","\u2809\u2819","\u2809\u2829","\u2808\u2899","\u2808\u2859","\u2808\u2829","\u2800\u2899","\u2800\u2859","\u2800\u2829","\u2800\u2898","\u2800\u2858","\u2800\u2828","\u2800\u2890","\u2800\u2850","\u2800\u2820","\u2800\u2880","\u2800\u2840"]},dots13:{interval:80,frames:["\u28FC","\u28F9","\u28BB","\u283F","\u285F","\u28CF","\u28E7","\u28F6"]},dots8Bit:{interval:80,frames:["\u2800","\u2801","\u2802","\u2803","\u2804","\u2805","\u2806","\u2807","\u2840","\u2841","\u2842","\u2843","\u2844","\u2845","\u2846","\u2847","\u2808","\u2809","\u280A","\u280B","\u280C","\u280D","\u280E","\u280F","\u2848","\u2849","\u284A","\u284B","\u284C","\u284D","\u284E","\u284F","\u2810","\u2811","\u2812","\u2813","\u2814","\u2815","\u2816","\u2817","\u2850","\u2851","\u2852","\u2853","\u2854","\u2855","\u2856","\u2857","\u2818","\u2819","\u281A","\u281B","\u281C","\u281D","\u281E","\u281F","\u2858","\u2859","\u285A","\u285B","\u285C","\u285D","\u285E","\u285F","\u2820","\u2821","\u2822","\u2823","\u2824","\u2825","\u2826","\u2827","\u2860","\u2861","\u2862","\u2863","\u2864","\u2865","\u2866","\u2867","\u2828","\u2829","\u282A","\u282B","\u282C","\u282D","\u282E","\u282F","\u2868","\u2869","\u286A","\u286B","\u286C","\u286D","\u286E","\u286F","\u2830","\u2831","\u2832","\u2833","\u2834","\u2835","\u2836","\u2837","\u2870","\u2871","\u2872","\u2873","\u2874","\u2875","\u2876","\u2877","\u2838","\u2839","\u283A","\u283B","\u283C","\u283D","\u283E","\u283F","\u2878","\u2879","\u287A","\u287B","\u287C","\u287D","\u287E","\u287F","\u2880","\u2881","\u2882","\u2883","\u2884","\u2885","\u2886","\u2887","\u28C0","\u28C1","\u28C2","\u28C3","\u28C4","\u28C5","\u28C6","\u28C7","\u2888","\u2889","\u288A","\u288B","\u288C","\u288D","\u288E","\u288F","\u28C8","\u28C9","\u28CA","\u28CB","\u28CC","\u28CD","\u28CE","\u28CF","\u2890","\u2891","\u2892","\u2893","\u2894","\u2895","\u2896","\u2897","\u28D0","\u28D1","\u28D2","\u28D3","\u28D4","\u28D5","\u28D6","\u28D7","\u2898","\u2899","\u289A","\u289B","\u289C","\u289D","\u289E","\u289F","\u28D8","\u28D9","\u28DA","\u28DB","\u28DC","\u28DD","\u28DE","\u28DF","\u28A0","\u28A1","\u28A2","\u28A3","\u28A4","\u28A5","\u28A6","\u28A7","\u28E0","\u28E1","\u28E2","\u28E3","\u28E4","\u28E5","\u28E6","\u28E7","\u28A8","\u28A9","\u28AA","\u28AB","\u28AC","\u28AD","\u28AE","\u28AF","\u28E8","\u28E9","\u28EA","\u28EB","\u28EC","\u28ED","\u28EE","\u28EF","\u28B0","\u28B1","\u28B2","\u28B3","\u28B4","\u28B5","\u28B6","\u28B7","\u28F0","\u28F1","\u28F2","\u28F3","\u28F4","\u28F5","\u28F6","\u28F7","\u28B8","\u28B9","\u28BA","\u28BB","\u28BC","\u28BD","\u28BE","\u28BF","\u28F8","\u28F9","\u28FA","\u28FB","\u28FC","\u28FD","\u28FE","\u28FF"]},sand:{interval:80,frames:["\u2801","\u2802","\u2804","\u2840","\u2848","\u2850","\u2860","\u28C0","\u28C1","\u28C2","\u28C4","\u28CC","\u28D4","\u28E4","\u28E5","\u28E6","\u28EE","\u28F6","\u28F7","\u28FF","\u287F","\u283F","\u289F","\u281F","\u285B","\u281B","\u282B","\u288B","\u280B","\u280D","\u2849","\u2809","\u2811","\u2821","\u2881"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["\u2802","-","\u2013","\u2014","\u2013","-"]},pipe:{interval:100,frames:["\u2524","\u2518","\u2534","\u2514","\u251C","\u250C","\u252C","\u2510"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["\u2736","\u2738","\u2739","\u273A","\u2739","\u2737"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","\xB4","-","_","_","_"]},hamburger:{interval:100,frames:["\u2631","\u2632","\u2634"]},growVertical:{interval:120,frames:["\u2581","\u2583","\u2584","\u2585","\u2586","\u2587","\u2586","\u2585","\u2584","\u2583"]},growHorizontal:{interval:120,frames:["\u258F","\u258E","\u258D","\u258C","\u258B","\u258A","\u2589","\u258A","\u258B","\u258C","\u258D","\u258E"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","\xB0","O","o","."]},noise:{interval:100,frames:["\u2593","\u2592","\u2591"]},bounce:{interval:120,frames:["\u2801","\u2802","\u2804","\u2802"]},boxBounce:{interval:120,frames:["\u2596","\u2598","\u259D","\u2597"]},boxBounce2:{interval:100,frames:["\u258C","\u2580","\u2590","\u2584"]},triangle:{interval:50,frames:["\u25E2","\u25E3","\u25E4","\u25E5"]},arc:{interval:100,frames:["\u25DC","\u25E0","\u25DD","\u25DE","\u25E1","\u25DF"]},circle:{interval:120,frames:["\u25E1","\u2299","\u25E0"]},squareCorners:{interval:180,frames:["\u25F0","\u25F3","\u25F2","\u25F1"]},circleQuarters:{interval:120,frames:["\u25F4","\u25F7","\u25F6","\u25F5"]},circleHalves:{interval:50,frames:["\u25D0","\u25D3","\u25D1","\u25D2"]},squish:{interval:100,frames:["\u256B","\u256A"]},toggle:{interval:250,frames:["\u22B6","\u22B7"]},toggle2:{interval:80,frames:["\u25AB","\u25AA"]},toggle3:{interval:120,frames:["\u25A1","\u25A0"]},toggle4:{interval:100,frames:["\u25A0","\u25A1","\u25AA","\u25AB"]},toggle5:{interval:100,frames:["\u25AE","\u25AF"]},toggle6:{interval:300,frames:["\u101D","\u1040"]},toggle7:{interval:80,frames:["\u29BE","\u29BF"]},toggle8:{interval:100,frames:["\u25CD","\u25CC"]},toggle9:{interval:100,frames:["\u25C9","\u25CE"]},toggle10:{interval:100,frames:["\u3282","\u3280","\u3281"]},toggle11:{interval:50,frames:["\u29C7","\u29C6"]},toggle12:{interval:120,frames:["\u2617","\u2616"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["\u2190","\u2196","\u2191","\u2197","\u2192","\u2198","\u2193","\u2199"]},arrow2:{interval:80,frames:["\u2B06\uFE0F ","\u2197\uFE0F ","\u27A1\uFE0F ","\u2198\uFE0F ","\u2B07\uFE0F ","\u2199\uFE0F ","\u2B05\uFE0F ","\u2196\uFE0F "]},arrow3:{interval:120,frames:["\u25B9\u25B9\u25B9\u25B9\u25B9","\u25B8\u25B9\u25B9\u25B9\u25B9","\u25B9\u25B8\u25B9\u25B9\u25B9","\u25B9\u25B9\u25B8\u25B9\u25B9","\u25B9\u25B9\u25B9\u25B8\u25B9","\u25B9\u25B9\u25B9\u25B9\u25B8"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( \u25CF    )","(  \u25CF   )","(   \u25CF  )","(    \u25CF )","(     \u25CF)","(    \u25CF )","(   \u25CF  )","(  \u25CF   )","( \u25CF    )","(\u25CF     )"]},smiley:{interval:200,frames:["\u{1F604} ","\u{1F61D} "]},monkey:{interval:300,frames:["\u{1F648} ","\u{1F648} ","\u{1F649} ","\u{1F64A} "]},hearts:{interval:100,frames:["\u{1F49B} ","\u{1F499} ","\u{1F49C} ","\u{1F49A} ","\u2764\uFE0F "]},clock:{interval:100,frames:["\u{1F55B} ","\u{1F550} ","\u{1F551} ","\u{1F552} ","\u{1F553} ","\u{1F554} ","\u{1F555} ","\u{1F556} ","\u{1F557} ","\u{1F558} ","\u{1F559} ","\u{1F55A} "]},earth:{interval:180,frames:["\u{1F30D} ","\u{1F30E} ","\u{1F30F} "]},material:{interval:17,frames:["\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2588","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581","\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581\u2581"]},moon:{interval:80,frames:["\u{1F311} ","\u{1F312} ","\u{1F313} ","\u{1F314} ","\u{1F315} ","\u{1F316} ","\u{1F317} ","\u{1F318} "]},runner:{interval:140,frames:["\u{1F6B6} ","\u{1F3C3} "]},pong:{interval:80,frames:["\u2590\u2802       \u258C","\u2590\u2808       \u258C","\u2590 \u2802      \u258C","\u2590 \u2820      \u258C","\u2590  \u2840     \u258C","\u2590  \u2820     \u258C","\u2590   \u2802    \u258C","\u2590   \u2808    \u258C","\u2590    \u2802   \u258C","\u2590    \u2820   \u258C","\u2590     \u2840  \u258C","\u2590     \u2820  \u258C","\u2590      \u2802 \u258C","\u2590      \u2808 \u258C","\u2590       \u2802\u258C","\u2590       \u2820\u258C","\u2590       \u2840\u258C","\u2590      \u2820 \u258C","\u2590      \u2802 \u258C","\u2590     \u2808  \u258C","\u2590     \u2802  \u258C","\u2590    \u2820   \u258C","\u2590    \u2840   \u258C","\u2590   \u2820    \u258C","\u2590   \u2802    \u258C","\u2590  \u2808     \u258C","\u2590  \u2802     \u258C","\u2590 \u2820      \u258C","\u2590 \u2840      \u258C","\u2590\u2820       \u258C"]},shark:{interval:120,frames:["\u2590|\\____________\u258C","\u2590_|\\___________\u258C","\u2590__|\\__________\u258C","\u2590___|\\_________\u258C","\u2590____|\\________\u258C","\u2590_____|\\_______\u258C","\u2590______|\\______\u258C","\u2590_______|\\_____\u258C","\u2590________|\\____\u258C","\u2590_________|\\___\u258C","\u2590__________|\\__\u258C","\u2590___________|\\_\u258C","\u2590____________|\\\u258C","\u2590____________/|\u258C","\u2590___________/|_\u258C","\u2590__________/|__\u258C","\u2590_________/|___\u258C","\u2590________/|____\u258C","\u2590_______/|_____\u258C","\u2590______/|______\u258C","\u2590_____/|_______\u258C","\u2590____/|________\u258C","\u2590___/|_________\u258C","\u2590__/|__________\u258C","\u2590_/|___________\u258C","\u2590/|____________\u258C"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["\u2600\uFE0F ","\u2600\uFE0F ","\u2600\uFE0F ","\u{1F324} ","\u26C5\uFE0F ","\u{1F325} ","\u2601\uFE0F ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u26C8 ","\u{1F328} ","\u{1F327} ","\u{1F328} ","\u2601\uFE0F ","\u{1F325} ","\u26C5\uFE0F ","\u{1F324} ","\u2600\uFE0F ","\u2600\uFE0F "]},christmas:{interval:400,frames:["\u{1F332}","\u{1F384}"]},grenade:{interval:80,frames:["\u060C  ","\u2032  "," \xB4 "," \u203E ","  \u2E0C","  \u2E0A","  |","  \u204E","  \u2055"," \u0DF4 ","  \u2053","   ","   ","   "]},point:{interval:125,frames:["\u2219\u2219\u2219","\u25CF\u2219\u2219","\u2219\u25CF\u2219","\u2219\u2219\u25CF","\u2219\u2219\u2219"]},layer:{interval:150,frames:["-","=","\u2261"]},betaWave:{interval:80,frames:["\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1\u03B2","\u03B2\u03B2\u03B2\u03B2\u03B2\u03B2\u03C1"]},fingerDance:{interval:160,frames:["\u{1F918} ","\u{1F91F} ","\u{1F596} ","\u270B ","\u{1F91A} ","\u{1F446} "]},fistBump:{interval:80,frames:["\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u{1F91C}\u3000\u3000\u3000\u3000\u{1F91B} ","\u3000\u{1F91C}\u3000\u3000\u{1F91B}\u3000 ","\u3000\u3000\u{1F91C}\u{1F91B}\u3000\u3000 ","\u3000\u{1F91C}\u2728\u{1F91B}\u3000\u3000 ","\u{1F91C}\u3000\u2728\u3000\u{1F91B}\u3000 "]},soccerHeader:{interval:80,frames:[" \u{1F9D1}\u26BD\uFE0F       \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}       \u26BD\uFE0F\u{1F9D1}  ","\u{1F9D1}      \u26BD\uFE0F  \u{1F9D1} ","\u{1F9D1}     \u26BD\uFE0F   \u{1F9D1} ","\u{1F9D1}    \u26BD\uFE0F    \u{1F9D1} ","\u{1F9D1}   \u26BD\uFE0F     \u{1F9D1} ","\u{1F9D1}  \u26BD\uFE0F      \u{1F9D1} "]},mindblown:{interval:160,frames:["\u{1F610} ","\u{1F610} ","\u{1F62E} ","\u{1F62E} ","\u{1F626} ","\u{1F626} ","\u{1F627} ","\u{1F627} ","\u{1F92F} ","\u{1F4A5} ","\u2728 ","\u3000 ","\u3000 ","\u3000 "]},speaker:{interval:160,frames:["\u{1F508} ","\u{1F509} ","\u{1F50A} ","\u{1F509} "]},orangePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} "]},bluePulse:{interval:100,frames:["\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},orangeBluePulse:{interval:100,frames:["\u{1F538} ","\u{1F536} ","\u{1F7E0} ","\u{1F7E0} ","\u{1F536} ","\u{1F539} ","\u{1F537} ","\u{1F535} ","\u{1F535} ","\u{1F537} "]},timeTravel:{interval:100,frames:["\u{1F55B} ","\u{1F55A} ","\u{1F559} ","\u{1F558} ","\u{1F557} ","\u{1F556} ","\u{1F555} ","\u{1F554} ","\u{1F553} ","\u{1F552} ","\u{1F551} ","\u{1F550} "]},aesthetic:{interval:80,frames:["\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B1","\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0\u25B0","\u25B0\u25B1\u25B1\u25B1\u25B1\u25B1\u25B1"]}}});var Ui=k((dh,es)=>{"use strict";var On=Object.assign({},Za()),Qa=Object.keys(On);Object.defineProperty(On,"random",{get(){let e=Math.floor(Math.random()*Qa.length),t=Qa[e];return On[t]}});es.exports=On});var ts=k((_h,In)=>{var jp=function(){"use strict";function e(a,s,l,c){var f;typeof s=="object"&&(l=s.depth,c=s.prototype,f=s.filter,s=s.circular);var p=[],u=[],m=typeof Buffer<"u";typeof s>"u"&&(s=!0),typeof l>"u"&&(l=1/0);function h(g,x){if(g===null)return null;if(x==0)return g;var w,v;if(typeof g!="object")return g;if(e.__isArray(g))w=[];else if(e.__isRegExp(g))w=new RegExp(g.source,o(g)),g.lastIndex&&(w.lastIndex=g.lastIndex);else if(e.__isDate(g))w=new Date(g.getTime());else{if(m&&Buffer.isBuffer(g))return Buffer.allocUnsafe?w=Buffer.allocUnsafe(g.length):w=new Buffer(g.length),g.copy(w),w;typeof c>"u"?(v=Object.getPrototypeOf(g),w=Object.create(v)):(w=Object.create(c),v=c)}if(s){var S=p.indexOf(g);if(S!=-1)return u[S];p.push(g),u.push(w)}for(var P in g){var R;v&&(R=Object.getOwnPropertyDescriptor(v,P)),!(R&&R.set==null)&&(w[P]=h(g[P],x-1))}return w}return h(a,l)}e.clonePrototype=function(s){if(s===null)return null;var l=function(){};return l.prototype=s,new l};function t(a){return Object.prototype.toString.call(a)}e.__objToStr=t;function r(a){return typeof a=="object"&&t(a)==="[object Date]"}e.__isDate=r;function n(a){return typeof a=="object"&&t(a)==="[object Array]"}e.__isArray=n;function i(a){return typeof a=="object"&&t(a)==="[object RegExp]"}e.__isRegExp=i;function o(a){var s="";return a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),s}return e.__getRegExpFlags=o,e}();typeof In=="object"&&In.exports&&(In.exports=jp)});var ns=k((vh,rs)=>{var $p=ts();rs.exports=function(e,t){return e=e||{},Object.keys(t).forEach(function(r){typeof e[r]>"u"&&(e[r]=$p(t[r]))}),e}});var os=k((Sh,is)=>{is.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]});var ls=k((kh,Gi)=>{"use strict";var Ap=ns(),Zt=os(),ss={nul:0,control:0};Gi.exports=function(t){return cs(t,ss)};Gi.exports.config=function(e){return e=Ap(e||{},ss),function(r){return cs(r,e)}};function cs(e,t){if(typeof e!="string")return as(e,t);for(var r=0,n=0;n<e.length;n++){var i=as(e.charCodeAt(n),t);if(i<0)return-1;r+=i}return r}function as(e,t){return e===0?t.nul:e<32||e>=127&&e<160?t.control:Op(e)?0:1+(e>=4352&&(e<=4447||e==9001||e==9002||e>=11904&&e<=42191&&e!=12351||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141))}function Op(e){var t=0,r=Zt.length-1,n;if(e<Zt[0][0]||e>Zt[r][1])return!1;for(;r>=t;)if(n=Math.floor((t+r)/2),e>Zt[n][1])t=n+1;else if(e<Zt[n][0])r=n-1;else return!0;return!1}});var Vi=k((Th,fs)=>{fs.exports=require("stream")});var gs=k((Ch,hs)=>{"use strict";function ps(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ps(Object(r),!0).forEach(function(n){Ip(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ps(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ip(e,t,r){return t=ms(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ds(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ms(n.key),n)}}function Lp(e,t,r){return t&&ds(e.prototype,t),r&&ds(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ms(e){var t=Np(e,"string");return typeof t=="symbol"?t:String(t)}function Np(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bp=require("buffer"),Mn=Bp.Buffer,Up=require("util"),Hi=Up.inspect,qp=Hi&&Hi.custom||"inspect";function Wp(e,t,r){Mn.prototype.copy.call(e,t,r)}hs.exports=function(){function e(){Mp(this,e),this.head=null,this.tail=null,this.length=0}return Lp(e,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Mn.alloc(0);for(var n=Mn.allocUnsafe(r>>>0),i=this.head,o=0;i;)Wp(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var a=n.data,s=r>a.length?a.length:r;if(s===a.length?o+=a:o+=a.slice(0,r),r-=s,r===0){s===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Mn.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,s=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,s),r-=s,r===0){s===a.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(s));break}++o}return this.length-=o,n}},{key:qp,value:function(r,n){return Hi(this,us(us({},n),{},{depth:0,customInspect:!1}))}}]),e}()});var Yi=k((Ph,bs)=>{"use strict";function Gp(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(zi,this,e)):process.nextTick(zi,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(Ln,r):(r._writableState.errorEmitted=!0,process.nextTick(ys,r,o)):process.nextTick(ys,r,o):t?(process.nextTick(Ln,r),t(o)):process.nextTick(Ln,r)}),this)}function ys(e,t){zi(e,t),Ln(e)}function Ln(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Jp(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function zi(e,t){e.emit("error",t)}function Vp(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}bs.exports={destroy:Gp,undestroy:Jp,errorOrDestroy:Vp}});var Oe=k((Rh,_s)=>{"use strict";var xs={};function ue(e,t,r){r||(r=Error);function n(o,a,s){return typeof t=="string"?t:t(o,a,s)}class i extends r{constructor(a,s,l){super(n(a,s,l))}}i.prototype.name=r.name,i.prototype.code=e,xs[e]=i}function ws(e,t){if(Array.isArray(e)){let r=e.length;return e=e.map(n=>String(n)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function Hp(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function zp(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Yp(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}ue("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);ue("ERR_INVALID_ARG_TYPE",function(e,t,r){let n;typeof t=="string"&&Hp(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";let i;if(zp(e," argument"))i=`The ${e} ${n} ${ws(t,"type")}`;else{let o=Yp(e,".")?"property":"argument";i=`The "${e}" ${o} ${n} ${ws(t,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);ue("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ue("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});ue("ERR_STREAM_PREMATURE_CLOSE","Premature close");ue("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});ue("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ue("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ue("ERR_STREAM_WRITE_AFTER_END","write after end");ue("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ue("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);ue("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");_s.exports.codes=xs});var Ki=k((Dh,vs)=>{"use strict";var Kp=Oe().codes.ERR_INVALID_OPT_VALUE;function Xp(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Zp(e,t,r,n){var i=Xp(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Kp(o,i)}return Math.floor(i)}return e.objectMode?16:16*1024}vs.exports={getHighWaterMark:Zp}});var Ss=k((Fh,Xi)=>{typeof Object.create=="function"?Xi.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Xi.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Xe=k((jh,Qi)=>{try{if(Zi=require("util"),typeof Zi.inherits!="function")throw"";Qi.exports=Zi.inherits}catch{Qi.exports=Ss()}var Zi});var Es=k(($h,ks)=>{ks.exports=require("util").deprecate});var ro=k((Ah,Fs)=>{"use strict";Fs.exports=W;function Cs(e){var t=this;this.next=null,this.entry=null,this.finish=function(){Eu(t,e)}}var Et;W.WritableState=er;var Qp={deprecate:Es()},Ps=Vi(),Bn=require("buffer").Buffer,eu=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function tu(e){return Bn.from(e)}function ru(e){return Bn.isBuffer(e)||e instanceof eu}var to=Yi(),nu=Ki(),iu=nu.getHighWaterMark,Ie=Oe().codes,ou=Ie.ERR_INVALID_ARG_TYPE,au=Ie.ERR_METHOD_NOT_IMPLEMENTED,su=Ie.ERR_MULTIPLE_CALLBACK,cu=Ie.ERR_STREAM_CANNOT_PIPE,lu=Ie.ERR_STREAM_DESTROYED,fu=Ie.ERR_STREAM_NULL_VALUES,pu=Ie.ERR_STREAM_WRITE_AFTER_END,uu=Ie.ERR_UNKNOWN_ENCODING,Tt=to.errorOrDestroy;Xe()(W,Ps);function du(){}function er(e,t,r){Et=Et||Ze(),e=e||{},typeof r!="boolean"&&(r=t instanceof Et),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=iu(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){xu(t,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Cs(this)}er.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(er.prototype,"buffer",{get:Qp.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Nn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Nn=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(t){return Nn.call(this,t)?!0:this!==W?!1:t&&t._writableState instanceof er}})):Nn=function(t){return t instanceof this};function W(e){Et=Et||Ze();var t=this instanceof Et;if(!t&&!Nn.call(W,this))return new W(e);this._writableState=new er(e,this,t),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),Ps.call(this)}W.prototype.pipe=function(){Tt(this,new cu)};function mu(e,t){var r=new pu;Tt(e,r),process.nextTick(t,r)}function hu(e,t,r,n){var i;return r===null?i=new fu:typeof r!="string"&&!t.objectMode&&(i=new ou("chunk",["string","Buffer"],r)),i?(Tt(e,i),process.nextTick(n,i),!1):!0}W.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&ru(e);return o&&!Bn.isBuffer(e)&&(e=tu(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=du),n.ending?mu(this,r):(o||hu(this,n,e,r))&&(n.pendingcb++,i=yu(this,n,o,e,t,r)),i};W.prototype.cork=function(){this._writableState.corked++};W.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&Rs(this,e))};W.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new uu(t);return this._writableState.defaultEncoding=t,this};Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function gu(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=Bn.from(t,r)),t}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function yu(e,t,r,n,i,o){if(!r){var a=gu(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else eo(e,t,!1,s,n,i,o);return l}function eo(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new lu("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function bu(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(Qt,e,t),e._writableState.errorEmitted=!0,Tt(e,n)):(i(n),e._writableState.errorEmitted=!0,Tt(e,n),Qt(e,t))}function wu(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function xu(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new su;if(wu(r),t)bu(e,r,n,t,i);else{var o=Ds(r)||e.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Rs(e,r),n?process.nextTick(Ts,e,r,o,i):Ts(e,r,o,i)}}function Ts(e,t,r,n){r||_u(e,t),t.pendingcb--,n(),Qt(e,t)}function _u(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function Rs(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,eo(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new Cs(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback,p=t.objectMode?1:l.length;if(eo(e,t,!1,p,l,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}W.prototype._write=function(e,t,r){r(new au("_write()"))};W.prototype._writev=null;W.prototype.end=function(e,t,r){var n=this._writableState;return typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||ku(this,n,r),this};Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ds(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function vu(e,t){e._final(function(r){t.pendingcb--,r&&Tt(e,r),t.prefinished=!0,e.emit("prefinish"),Qt(e,t)})}function Su(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,process.nextTick(vu,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function Qt(e,t){var r=Ds(t);if(r&&(Su(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function ku(e,t,r){t.ending=!0,Qt(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function Eu(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});W.prototype.destroy=to.destroy;W.prototype._undestroy=to.undestroy;W.prototype._destroy=function(e,t){t(e)}});var Ze=k((Oh,$s)=>{"use strict";var Tu=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};$s.exports=ve;var js=oo(),io=ro();Xe()(ve,js);for(no=Tu(io.prototype),Un=0;Un<no.length;Un++)qn=no[Un],ve.prototype[qn]||(ve.prototype[qn]=io.prototype[qn]);var no,qn,Un;function ve(e){if(!(this instanceof ve))return new ve(e);js.call(this,e),io.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Cu)))}Object.defineProperty(ve.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(ve.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(ve.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Cu(){this._writableState.ended||process.nextTick(Pu,this)}function Pu(e){e.end()}Object.defineProperty(ve.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}})});var Is=k((ao,Os)=>{var Wn=require("buffer"),Se=Wn.Buffer;function As(e,t){for(var r in e)t[r]=e[r]}Se.from&&Se.alloc&&Se.allocUnsafe&&Se.allocUnsafeSlow?Os.exports=Wn:(As(Wn,ao),ao.Buffer=Qe);function Qe(e,t,r){return Se(e,t,r)}Qe.prototype=Object.create(Se.prototype);As(Se,Qe);Qe.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Se(e,t,r)};Qe.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Se(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Qe.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Se(e)};Qe.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Wn.SlowBuffer(e)}});var lo=k(Ls=>{"use strict";var co=Is().Buffer,Ms=co.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ru(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Du(e){var t=Ru(e);if(typeof t!="string"&&(co.isEncoding===Ms||!Ms(e)))throw new Error("Unknown encoding: "+e);return t||e}Ls.StringDecoder=tr;function tr(e){this.encoding=Du(e);var t;switch(this.encoding){case"utf16le":this.text=Iu,this.end=Mu,t=4;break;case"utf8":this.fillLast=$u,t=4;break;case"base64":this.text=Lu,this.end=Nu,t=3;break;default:this.write=Bu,this.end=Uu;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=co.allocUnsafe(t)}tr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};tr.prototype.end=Ou;tr.prototype.text=Au;tr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function so(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Fu(e,t,r){var n=t.length-1;if(n<r)return 0;var i=so(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=so(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=so(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function ju(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function $u(e){var t=this.lastTotal-this.lastNeed,r=ju(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Au(e,t){var r=Fu(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Ou(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Iu(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Mu(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Lu(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Nu(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Bu(e){return e.toString(this.encoding)}function Uu(e){return e&&e.length?this.write(e):""}});var Gn=k((Mh,Us)=>{"use strict";var Ns=Oe().codes.ERR_STREAM_PREMATURE_CLOSE;function qu(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function Wu(){}function Gu(e){return e.setHeader&&typeof e.abort=="function"}function Bs(e,t,r){if(typeof t=="function")return Bs(e,null,t);t||(t={}),r=qu(r||Wu);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||s()},a=e._writableState&&e._writableState.finished,s=function(){i=!1,a=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,c=function(){n=!1,l=!0,i||r.call(e)},f=function(h){r.call(e,h)},p=function(){var h;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(h=new Ns),r.call(e,h);if(i&&!a)return(!e._writableState||!e._writableState.ended)&&(h=new Ns),r.call(e,h)},u=function(){e.req.on("finish",s)};return Gu(e)?(e.on("complete",s),e.on("abort",p),e.req?u():e.on("request",u)):i&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",c),e.on("finish",s),t.error!==!1&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",s),e.removeListener("abort",p),e.removeListener("request",u),e.req&&e.req.removeListener("finish",s),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",s),e.removeListener("end",c),e.removeListener("error",f),e.removeListener("close",p)}}Us.exports=Bs});var Ws=k((Lh,qs)=>{"use strict";var Jn;function Me(e,t,r){return t=Ju(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ju(e){var t=Vu(e,"string");return typeof t=="symbol"?t:String(t)}function Vu(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hu=Gn(),Le=Symbol("lastResolve"),et=Symbol("lastReject"),rr=Symbol("error"),Vn=Symbol("ended"),tt=Symbol("lastPromise"),fo=Symbol("handlePromise"),rt=Symbol("stream");function Ne(e,t){return{value:e,done:t}}function zu(e){var t=e[Le];if(t!==null){var r=e[rt].read();r!==null&&(e[tt]=null,e[Le]=null,e[et]=null,t(Ne(r,!1)))}}function Yu(e){process.nextTick(zu,e)}function Ku(e,t){return function(r,n){e.then(function(){if(t[Vn]){r(Ne(void 0,!0));return}t[fo](r,n)},n)}}var Xu=Object.getPrototypeOf(function(){}),Zu=Object.setPrototypeOf((Jn={get stream(){return this[rt]},next:function(){var t=this,r=this[rr];if(r!==null)return Promise.reject(r);if(this[Vn])return Promise.resolve(Ne(void 0,!0));if(this[rt].destroyed)return new Promise(function(a,s){process.nextTick(function(){t[rr]?s(t[rr]):a(Ne(void 0,!0))})});var n=this[tt],i;if(n)i=new Promise(Ku(n,this));else{var o=this[rt].read();if(o!==null)return Promise.resolve(Ne(o,!1));i=new Promise(this[fo])}return this[tt]=i,i}},Me(Jn,Symbol.asyncIterator,function(){return this}),Me(Jn,"return",function(){var t=this;return new Promise(function(r,n){t[rt].destroy(null,function(i){if(i){n(i);return}r(Ne(void 0,!0))})})}),Jn),Xu),Qu=function(t){var r,n=Object.create(Zu,(r={},Me(r,rt,{value:t,writable:!0}),Me(r,Le,{value:null,writable:!0}),Me(r,et,{value:null,writable:!0}),Me(r,rr,{value:null,writable:!0}),Me(r,Vn,{value:t._readableState.endEmitted,writable:!0}),Me(r,fo,{value:function(o,a){var s=n[rt].read();s?(n[tt]=null,n[Le]=null,n[et]=null,o(Ne(s,!1))):(n[Le]=o,n[et]=a)},writable:!0}),r));return n[tt]=null,Hu(t,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[et];o!==null&&(n[tt]=null,n[Le]=null,n[et]=null,o(i)),n[rr]=i;return}var a=n[Le];a!==null&&(n[tt]=null,n[Le]=null,n[et]=null,a(Ne(void 0,!0))),n[Vn]=!0}),t.on("readable",Yu.bind(null,n)),n};qs.exports=Qu});var Hs=k((Nh,Vs)=>{"use strict";function Gs(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(c){r(c);return}s.done?t(l):Promise.resolve(l).then(n,i)}function ed(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(l){Gs(o,n,i,a,s,"next",l)}function s(l){Gs(o,n,i,a,s,"throw",l)}a(void 0)})}}function Js(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Js(Object(r),!0).forEach(function(n){rd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Js(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rd(e,t,r){return t=nd(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nd(e){var t=id(e,"string");return typeof t=="symbol"?t:String(t)}function id(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var od=Oe().codes.ERR_INVALID_ARG_TYPE;function ad(e,t,r){var n;if(t&&typeof t.next=="function")n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new od("iterable",["Iterable"],t);var i=new e(td({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,a())};function a(){return s.apply(this,arguments)}function s(){return s=ed(function*(){try{var l=yield n.next(),c=l.value,f=l.done;f?i.push(null):i.push(yield c)?a():o=!1}catch(p){i.destroy(p)}}),s.apply(this,arguments)}return i}Vs.exports=ad});var oo=k((Uh,nc)=>{"use strict";nc.exports=F;var Ct;F.ReadableState=Xs;var Bh=require("events").EventEmitter,Ks=function(t,r){return t.listeners(r).length},ir=Vi(),Hn=require("buffer").Buffer,sd=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function cd(e){return Hn.from(e)}function ld(e){return Hn.isBuffer(e)||e instanceof sd}var po=require("util"),C;po&&po.debuglog?C=po.debuglog("stream"):C=function(){};var fd=gs(),wo=Yi(),pd=Ki(),ud=pd.getHighWaterMark,zn=Oe().codes,dd=zn.ERR_INVALID_ARG_TYPE,md=zn.ERR_STREAM_PUSH_AFTER_EOF,hd=zn.ERR_METHOD_NOT_IMPLEMENTED,gd=zn.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Pt,uo,mo;Xe()(F,ir);var nr=wo.errorOrDestroy,ho=["error","close","destroy","pause","resume"];function yd(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Xs(e,t,r){Ct=Ct||Ze(),e=e||{},typeof r!="boolean"&&(r=t instanceof Ct),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=ud(this,e,"readableHighWaterMark",r),this.buffer=new fd,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Pt||(Pt=lo().StringDecoder),this.decoder=new Pt(e.encoding),this.encoding=e.encoding)}function F(e){if(Ct=Ct||Ze(),!(this instanceof F))return new F(e);var t=this instanceof Ct;this._readableState=new Xs(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),ir.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});F.prototype.destroy=wo.destroy;F.prototype._undestroy=wo.undestroy;F.prototype._destroy=function(e,t){t(e)};F.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=Hn.from(e,t),t=""),n=!0),Zs(this,e,t,!1,n)};F.prototype.unshift=function(e){return Zs(this,e,null,!0,!1)};function Zs(e,t,r,n,i){C("readableAddChunk",t);var o=e._readableState;if(t===null)o.reading=!1,xd(e,o);else{var a;if(i||(a=bd(o,t)),a)nr(e,a);else if(o.objectMode||t&&t.length>0)if(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==Hn.prototype&&(t=cd(t)),n)o.endEmitted?nr(e,new gd):go(e,o,t,!0);else if(o.ended)nr(e,new md);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?go(e,o,t,!1):bo(e,o)):go(e,o,t,!1)}else n||(o.reading=!1,bo(e,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function go(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Yn(e)),bo(e,t)}function bd(e,t){var r;return!ld(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new dd("chunk",["string","Buffer","Uint8Array"],t)),r}F.prototype.isPaused=function(){return this._readableState.flowing===!1};F.prototype.setEncoding=function(e){Pt||(Pt=lo().StringDecoder);var t=new Pt(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var zs=1073741824;function wd(e){return e>=zs?e=zs:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Ys(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=wd(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}F.prototype.read=function(e){C("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return C("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?yo(this):Yn(this),null;if(e=Ys(e,t),e===0&&t.ended)return t.length===0&&yo(this),null;var n=t.needReadable;C("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,C("length less than watermark",n)),t.ended||t.reading?(n=!1,C("reading or ended",n)):n&&(C("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Ys(r,t)));var i;return e>0?i=tc(e,t):i=null,i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&yo(this)),i!==null&&this.emit("data",i),i};function xd(e,t){if(C("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?Yn(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,Qs(e)))}}function Yn(e){var t=e._readableState;C("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(C("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(Qs,e))}function Qs(e){var t=e._readableState;C("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,xo(e)}function bo(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(_d,e,t))}function _d(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var r=t.length;if(C("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}F.prototype._read=function(e){nr(this,new hd("_read()"))};F.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,C("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?s:g;n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",a);function a(x,w){C("onunpipe"),x===r&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,f())}function s(){C("onend"),e.end()}var l=vd(r);e.on("drain",l);var c=!1;function f(){C("cleanup"),e.removeListener("close",m),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",u),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",g),r.removeListener("data",p),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}r.on("data",p);function p(x){C("ondata");var w=e.write(x);C("dest.write",w),w===!1&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&rc(n.pipes,e)!==-1)&&!c&&(C("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function u(x){C("onerror",x),g(),e.removeListener("error",u),Ks(e,"error")===0&&nr(e,x)}yd(e,"error",u);function m(){e.removeListener("finish",h),g()}e.once("close",m);function h(){C("onfinish"),e.removeListener("close",m),g()}e.once("finish",h);function g(){C("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(C("pipe resume"),r.resume()),e};function vd(e){return function(){var r=e._readableState;C("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Ks(e,"data")&&(r.flowing=!0,xo(e))}}F.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=rc(t.pipes,e);return a===-1?this:(t.pipes.splice(a,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};F.prototype.on=function(e,t){var r=ir.prototype.on.call(this,e,t),n=this._readableState;return e==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):e==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,C("on readable",n.length,n.reading),n.length?Yn(this):n.reading||process.nextTick(Sd,this)),r};F.prototype.addListener=F.prototype.on;F.prototype.removeListener=function(e,t){var r=ir.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(ec,this),r};F.prototype.removeAllListeners=function(e){var t=ir.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(ec,this),t};function ec(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function Sd(e){C("readable nexttick read 0"),e.read(0)}F.prototype.resume=function(){var e=this._readableState;return e.flowing||(C("resume"),e.flowing=!e.readableListening,kd(this,e)),e.paused=!1,this};function kd(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(Ed,e,t))}function Ed(e,t){C("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),xo(e),t.flowing&&!t.reading&&e.read(0)}F.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function xo(e){var t=e._readableState;for(C("flow",t.flowing);t.flowing&&e.read()!==null;);}F.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(C("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&t.push(a)}t.push(null)}),e.on("data",function(a){if(C("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=t.push(a);s||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(s){return function(){return e[s].apply(e,arguments)}}(i));for(var o=0;o<ho.length;o++)e.on(ho[o],this.emit.bind(this,ho[o]));return this._read=function(a){C("wrapped _read",a),n&&(n=!1,e.resume())},this};typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return uo===void 0&&(uo=Ws()),uo(this)});Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}});F._fromList=tc;Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function tc(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.first():r=t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function yo(e){var t=e._readableState;C("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(Td,t,e))}function Td(e,t){if(C("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}typeof Symbol=="function"&&(F.from=function(e,t){return mo===void 0&&(mo=Hs()),mo(F,e,t)});function rc(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var _o=k((qh,oc)=>{"use strict";oc.exports=Fe;var Kn=Oe().codes,Cd=Kn.ERR_METHOD_NOT_IMPLEMENTED,Pd=Kn.ERR_MULTIPLE_CALLBACK,Rd=Kn.ERR_TRANSFORM_ALREADY_TRANSFORMING,Dd=Kn.ERR_TRANSFORM_WITH_LENGTH_0,Xn=Ze();Xe()(Fe,Xn);function Fd(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Pd);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Fe(e){if(!(this instanceof Fe))return new Fe(e);Xn.call(this,e),this._transformState={afterTransform:Fd.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",jd)}function jd(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){ic(e,t,r)}):ic(this,null,null)}Fe.prototype.push=function(e,t){return this._transformState.needTransform=!1,Xn.prototype.push.call(this,e,t)};Fe.prototype._transform=function(e,t,r){r(new Cd("_transform()"))};Fe.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Fe.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Fe.prototype._destroy=function(e,t){Xn.prototype._destroy.call(this,e,function(r){t(r)})};function ic(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Dd;if(e._transformState.transforming)throw new Rd;return e.push(null)}});var cc=k((Wh,sc)=>{"use strict";sc.exports=or;var ac=_o();Xe()(or,ac);function or(e){if(!(this instanceof or))return new or(e);ac.call(this,e)}or.prototype._transform=function(e,t,r){r(null,e)}});var dc=k((Gh,uc)=>{"use strict";var vo;function $d(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var pc=Oe().codes,Ad=pc.ERR_MISSING_ARGS,Od=pc.ERR_STREAM_DESTROYED;function lc(e){if(e)throw e}function Id(e){return e.setHeader&&typeof e.abort=="function"}function Md(e,t,r,n){n=$d(n);var i=!1;e.on("close",function(){i=!0}),vo===void 0&&(vo=Gn()),vo(e,{readable:t,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,Id(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new Od("pipe"))}}}function fc(e){e()}function Ld(e,t){return e.pipe(t)}function Nd(e){return!e.length||typeof e[e.length-1]!="function"?lc:e.pop()}function Bd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Nd(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Ad("streams");var i,o=t.map(function(a,s){var l=s<t.length-1,c=s>0;return Md(a,l,c,function(f){i||(i=f),f&&o.forEach(fc),!l&&(o.forEach(fc),n(i))})});return t.reduce(Ld)}uc.exports=Bd});var mc=k((de,sr)=>{var ar=require("stream");process.env.READABLE_STREAM==="disable"&&ar?(sr.exports=ar.Readable,Object.assign(sr.exports,ar),sr.exports.Stream=ar):(de=sr.exports=oo(),de.Stream=ar||de,de.Readable=de,de.Writable=ro(),de.Duplex=Ze(),de.Transform=_o(),de.PassThrough=cc(),de.finished=Gn(),de.pipeline=dc())});var yc=k((Jh,gc)=>{"use strict";var{Buffer:ye}=require("buffer"),hc=Symbol.for("BufferList");function N(e){if(!(this instanceof N))return new N(e);N._init.call(this,e)}N._init=function(t){Object.defineProperty(this,hc,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)};N.prototype._new=function(t){return new N(t)};N.prototype._offset=function(t){if(t===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){let i=r+this._bufs[n].length;if(t<i||n===this._bufs.length-1)return[n,t-r];r=i}};N.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let n=0;n<t;n++)r+=this._bufs[n].length;return r};N.prototype.get=function(t){if(t>this.length||t<0)return;let r=this._offset(t);return this._bufs[r[0]][r[1]]};N.prototype.slice=function(t,r){return typeof t=="number"&&t<0&&(t+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,t,r)};N.prototype.copy=function(t,r,n,i){if((typeof n!="number"||n<0)&&(n=0),(typeof i!="number"||i>this.length)&&(i=this.length),n>=this.length||i<=0)return t||ye.alloc(0);let o=!!t,a=this._offset(n),s=i-n,l=s,c=o&&r||0,f=a[1];if(n===0&&i===this.length){if(!o)return this._bufs.length===1?this._bufs[0]:ye.concat(this._bufs,this.length);for(let p=0;p<this._bufs.length;p++)this._bufs[p].copy(t,c),c+=this._bufs[p].length;return t}if(l<=this._bufs[a[0]].length-f)return o?this._bufs[a[0]].copy(t,r,f,f+l):this._bufs[a[0]].slice(f,f+l);o||(t=ye.allocUnsafe(s));for(let p=a[0];p<this._bufs.length;p++){let u=this._bufs[p].length-f;if(l>u)this._bufs[p].copy(t,c,f),c+=u;else{this._bufs[p].copy(t,c,f,f+l),c+=u;break}l-=u,f&&(f=0)}return t.length>c?t.slice(0,c):t};N.prototype.shallowSlice=function(t,r){if(t=t||0,r=typeof r!="number"?this.length:r,t<0&&(t+=this.length),r<0&&(r+=this.length),t===r)return this._new();let n=this._offset(t),i=this._offset(r),o=this._bufs.slice(n[0],i[0]+1);return i[1]===0?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),n[1]!==0&&(o[0]=o[0].slice(n[1])),this._new(o)};N.prototype.toString=function(t,r,n){return this.slice(r,n).toString(t)};N.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;)if(t>=this._bufs[0].length)t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}return this};N.prototype.duplicate=function(){let t=this._new();for(let r=0;r<this._bufs.length;r++)t.append(this._bufs[r]);return t};N.prototype.append=function(t){if(t==null)return this;if(t.buffer)this._appendBuffer(ye.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let r=0;r<t.length;r++)this.append(t[r]);else if(this._isBufferList(t))for(let r=0;r<t._bufs.length;r++)this.append(t._bufs[r]);else typeof t=="number"&&(t=t.toString()),this._appendBuffer(ye.from(t));return this};N.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length};N.prototype.indexOf=function(e,t,r){if(r===void 0&&typeof t=="string"&&(r=t,t=void 0),typeof e=="function"||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof e=="number"?e=ye.from([e]):typeof e=="string"?e=ye.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=ye.from(e.buffer,e.byteOffset,e.byteLength):ye.isBuffer(e)||(e=ye.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),e.length===0)return t>this.length?this.length:t;let n=this._offset(t),i=n[0],o=n[1];for(;i<this._bufs.length;i++){let a=this._bufs[i];for(;o<a.length;)if(a.length-o>=e.length){let l=a.indexOf(e,o);if(l!==-1)return this._reverseOffset([i,l]);o=a.length-e.length+1}else{let l=this._reverseOffset([i,o]);if(this._match(l,e))return l;o++}o=0}return-1};N.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0};(function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)(function(r){e[r]===null?N.prototype[r]=function(n,i){return this.slice(n,n+i)[r](0,i)}:N.prototype[r]=function(n=0){return this.slice(n,n+e[r])[r](0)}})(t)})();N.prototype._isBufferList=function(t){return t instanceof N||N.isBufferList(t)};N.isBufferList=function(t){return t!=null&&t[hc]};gc.exports=N});var bc=k((Vh,Zn)=>{"use strict";var So=mc().Duplex,Ud=Xe(),cr=yc();function te(e){if(!(this instanceof te))return new te(e);if(typeof e=="function"){this._callback=e;let t=function(n){this._callback&&(this._callback(n),this._callback=null)}.bind(this);this.on("pipe",function(n){n.on("error",t)}),this.on("unpipe",function(n){n.removeListener("error",t)}),e=null}cr._init.call(this,e),So.call(this)}Ud(te,So);Object.assign(te.prototype,cr.prototype);te.prototype._new=function(t){return new te(t)};te.prototype._write=function(t,r,n){this._appendBuffer(t),typeof n=="function"&&n()};te.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)};te.prototype.end=function(t){So.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)};te.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)};te.prototype._isBufferList=function(t){return t instanceof te||t instanceof cr||te.isBufferList(t)};te.isBufferList=cr.isBufferList;Zn.exports=te;Zn.exports.BufferListStream=te;Zn.exports.BufferList=cr});var Cc=k((ag,Tc)=>{Tc.exports=Ec;Ec.sync=Vd;var Sc=require("fs");function Jd(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function kc(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Jd(t,r)}function Ec(e,t,r){Sc.stat(e,function(n,i){r(n,n?!1:kc(i,e,t))})}function Vd(e,t){return kc(Sc.statSync(e),e,t)}});var jc=k((sg,Fc)=>{Fc.exports=Rc;Rc.sync=Hd;var Pc=require("fs");function Rc(e,t,r){Pc.stat(e,function(n,i){r(n,n?!1:Dc(i,t))})}function Hd(e,t){return Dc(Pc.statSync(e),t)}function Dc(e,t){return e.isFile()&&zd(e,t)}function zd(e,t){var r=e.mode,n=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),f=s|l,p=r&c||r&l&&i===a||r&s&&n===o||r&f&&o===0;return p}});var Ac=k((lg,$c)=>{var cg=require("fs"),ei;process.platform==="win32"||global.TESTING_WINDOWS?ei=Cc():ei=jc();$c.exports=Po;Po.sync=Yd;function Po(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Po(e,t||{},function(o,a){o?i(o):n(a)})})}ei(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function Yd(e,t){try{return ei.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Uc=k((fg,Bc)=>{var $t=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Oc=require("path"),Kd=$t?";":":",Ic=Ac(),Mc=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Lc=(e,t)=>{let r=t.colon||Kd,n=e.match(/\//)||$t&&e.match(/\\/)?[""]:[...$t?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=$t?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=$t?i.split(r):[""];return $t&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},Nc=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:o}=Lc(e,t),a=[],s=c=>new Promise((f,p)=>{if(c===n.length)return t.all&&a.length?f(a):p(Mc(e));let u=n[c],m=/^".*"$/.test(u)?u.slice(1,-1):u,h=Oc.join(m,e),g=!m&&/^\.[\\\/]/.test(e)?e.slice(0,2)+h:h;f(l(g,c,0))}),l=(c,f,p)=>new Promise((u,m)=>{if(p===i.length)return u(s(f+1));let h=i[p];Ic(c+h,{pathExt:o},(g,x)=>{if(!g&&x)if(t.all)a.push(c+h);else return u(c+h);return u(l(c,f,p+1))})});return r?s(0).then(c=>r(null,c),r):s(0)},Xd=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=Lc(e,t),o=[];for(let a=0;a<r.length;a++){let s=r[a],l=/^".*"$/.test(s)?s.slice(1,-1):s,c=Oc.join(l,e),f=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let p=0;p<n.length;p++){let u=f+n[p];try{if(Ic.sync(u,{pathExt:i}))if(t.all)o.push(u);else return u}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw Mc(e)};Bc.exports=Nc;Nc.sync=Xd});var Wc=k((pg,Ro)=>{"use strict";var qc=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Ro.exports=qc;Ro.exports.default=qc});var Hc=k((ug,Vc)=>{"use strict";var Gc=require("path"),Zd=Uc(),Qd=Wc();function Jc(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let a;try{a=Zd.sync(e.command,{path:r[Qd({env:r})],pathExt:t?Gc.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return a&&(a=Gc.resolve(i?e.options.cwd:"",a)),a}function em(e){return Jc(e)||Jc(e,!0)}Vc.exports=em});var zc=k((dg,Fo)=>{"use strict";var Do=/([()\][%!^"`<>&|;, *?])/g;function tm(e){return e=e.replace(Do,"^$1"),e}function rm(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Do,"^$1"),t&&(e=e.replace(Do,"^$1")),e}Fo.exports.command=tm;Fo.exports.argument=rm});var Kc=k((mg,Yc)=>{"use strict";Yc.exports=/^#!(.*)/});var Zc=k((hg,Xc)=>{"use strict";var nm=Kc();Xc.exports=(e="")=>{let t=e.match(nm);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var el=k((gg,Qc)=>{"use strict";var jo=require("fs"),im=Zc();function om(e){let r=Buffer.alloc(150),n;try{n=jo.openSync(e,"r"),jo.readSync(n,r,0,150,0),jo.closeSync(n)}catch{}return im(r.toString())}Qc.exports=om});var il=k((yg,nl)=>{"use strict";var am=require("path"),tl=Hc(),rl=zc(),sm=el(),cm=process.platform==="win32",lm=/\.(?:com|exe)$/i,fm=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function pm(e){e.file=tl(e);let t=e.file&&sm(e.file);return t?(e.args.unshift(e.file),e.command=t,tl(e)):e.file}function um(e){if(!cm)return e;let t=pm(e),r=!lm.test(t);if(e.options.forceShell||r){let n=fm.test(t);e.command=am.normalize(e.command),e.command=rl.command(e.command),e.args=e.args.map(o=>rl.argument(o,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function dm(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:um(n)}nl.exports=dm});var sl=k((bg,al)=>{"use strict";var $o=process.platform==="win32";function Ao(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function mm(e,t){if(!$o)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let o=ol(i,t,"spawn");if(o)return r.call(e,"error",o)}return r.apply(e,arguments)}}function ol(e,t){return $o&&e===1&&!t.file?Ao(t.original,"spawn"):null}function hm(e,t){return $o&&e===1&&!t.file?Ao(t.original,"spawnSync"):null}al.exports={hookChildProcess:mm,verifyENOENT:ol,verifyENOENTSync:hm,notFoundError:Ao}});var Mo=k((wg,At)=>{"use strict";var cl=require("child_process"),Oo=il(),Io=sl();function ll(e,t,r){let n=Oo(e,t,r),i=cl.spawn(n.command,n.args,n.options);return Io.hookChildProcess(i,n),i}function gm(e,t,r){let n=Oo(e,t,r),i=cl.spawnSync(n.command,n.args,n.options);return i.error=i.error||Io.verifyENOENTSync(i.status,n),i}At.exports=ll;At.exports.spawn=ll;At.exports.sync=gm;At.exports._parse=Oo;At.exports._enoent=Io});var Hl=k((qy,Rm)=>{Rm.exports={name:"thirdweb",main:"dist/cli/index.js",version:"0.13.56",repository:"https://github.com/thirdweb-dev/js/tree/main/packages/cli",author:"thirdweb eng <eng@thirdweb.com>",license:"Apache-2.0",engines:{node:">=18.0.0"},devDependencies:{"@gmrchk/cli-testing-library":"^0.1.2","@thirdweb-dev/tsconfig":"workspace:*","@types/async-retry":"^1.3.0","@types/cross-spawn":"^6.0.2","@types/inquirer":"^8.2.1","@types/jest":"^29.5.3","@types/js-yaml":"^4.0.5","@types/node":"^18.17.1","@types/prompts":"^2.4.4","@types/rimraf":"^3.0.0","@types/tar":"^6.1.5","@types/update-notifier":"^6.0.4","@types/validate-npm-package-name":"^4.0.0",chalk:"^5.3.0","cross-spawn":"^7.0.3","dotenv-mono":"^1.3.10","eslint-config-thirdweb":"workspace:*",hardhat:"^2.17.0",jest:"^29.6.2",ora:"^6.3.1",prettier:"^3.1.1","ts-jest":"^29.1.1","ts-node":"^10.7.0",tsup:"^6.7.0",typescript:"^5.3.3"},dependencies:{"@iarna/toml":"^2.2.5","@thirdweb-dev/auth":"workspace:*","@thirdweb-dev/chains":"workspace:*","@thirdweb-dev/sdk":"workspace:*","@thirdweb-dev/storage":"workspace:*","@thirdweb-dev/wallets":"workspace:*","async-retry":"^1.3.3",commander:"^9.1.0","detect-package-manager":"^2.0.1",enquirer:"^2.3.6",ethers:"^5.7.2",got:"11.8.5",inquirer:"^8.2.3","js-yaml":"^4.1.0",open:"^8.4.0",prompts:"^2.4.2",rimraf:"^3.0.2",solc:"0.8.17",tar:"^6.1.15","update-notifier":"^6.0.2","validate-npm-package-name":"^4.0.0","xdg-app-paths":"^8.3.0",yaml:"^2.3.4"},bin:{thirdweb:"./dist/cli/index.js"},scripts:{format:"prettier --write 'src/**/*'",lint:"eslint src/",fix:"eslint src/ --fix",clean:"rm -rf dist/",cli:"node -r ts-node/register src/cli/index.ts",build:"pnpm clean && tsup --env.NODE_ENV production --minify --format cjs --external hardhat --dts-resolve","build:watch":"pnpm run build --watch","generate-thirdweb-package":"node scripts/generate-thirdweb-package.js",e2e:"jest"},files:["src/","dist/"],tsup:{entry:["src/cli/index.ts","src/helpers/hardhat-config-extractor.ts"],splitting:!1,sourcemap:!0,clean:!0}}});var ba=require("@thirdweb-dev/storage");var Ca=(e=0)=>t=>`\x1B[${t+e}m`,Pa=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,Ra=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,B={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},Ym=Object.keys(B.modifier),up=Object.keys(B.color),dp=Object.keys(B.bgColor),Km=[...up,...dp];function mp(){let e=new Map;for(let[t,r]of Object.entries(B)){for(let[n,i]of Object.entries(r))B[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=B[n],e.set(i[0],i[1]);Object.defineProperty(B,t,{value:r,enumerable:!1})}return Object.defineProperty(B,"codes",{value:e,enumerable:!1}),B.color.close="\x1B[39m",B.bgColor.close="\x1B[49m",B.color.ansi=Ca(),B.color.ansi256=Pa(),B.color.ansi16m=Ra(),B.bgColor.ansi=Ca(10),B.bgColor.ansi256=Pa(10),B.bgColor.ansi16m=Ra(10),Object.defineProperties(B,{rgbToAnsi256:{value(t,r,n){return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(o=>o+o).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:t=>B.rgbToAnsi256(...B.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,i;if(t>=232)r=((t-232)*10+8)/255,n=r,i=r;else{t-=16;let s=t%36;r=Math.floor(t/36)/5,n=Math.floor(s/6)/5,i=s%6/5}let o=Math.max(r,n,i)*2;if(o===0)return 30;let a=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return o===2&&(a+=60),a},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>B.ansi256ToAnsi(B.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>B.ansi256ToAnsi(B.hexToAnsi256(t)),enumerable:!1}}),B}var hp=mp(),ge=hp;var Tn=_(require("process"),1),Fa=_(require("os"),1),ji=_(require("tty"),1);function fe(e,t=globalThis.Deno?globalThis.Deno.args:Tn.default.argv){let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:q}=Tn.default,En;fe("no-color")||fe("no-colors")||fe("color=false")||fe("color=never")?En=0:(fe("color")||fe("colors")||fe("color=true")||fe("color=always"))&&(En=1);function gp(){if("FORCE_COLOR"in q)return q.FORCE_COLOR==="true"?1:q.FORCE_COLOR==="false"?0:q.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(q.FORCE_COLOR,10),3)}function yp(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function bp(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=gp();n!==void 0&&(En=n);let i=r?En:n;if(i===0)return 0;if(r){if(fe("color=16m")||fe("color=full")||fe("color=truecolor"))return 3;if(fe("color=256"))return 2}if("TF_BUILD"in q&&"AGENT_NAME"in q)return 1;if(e&&!t&&i===void 0)return 0;let o=i||0;if(q.TERM==="dumb")return o;if(Tn.default.platform==="win32"){let a=Fa.default.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in q)return"GITHUB_ACTIONS"in q||"GITEA_ACTIONS"in q?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(a=>a in q)||q.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in q)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(q.TEAMCITY_VERSION)?1:0;if(q.COLORTERM==="truecolor"||q.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in q){let a=Number.parseInt((q.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(q.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(q.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(q.TERM)||"COLORTERM"in q?1:o}function Da(e,t={}){let r=bp(e,{streamIsTTY:e&&e.isTTY,...t});return yp(r)}var wp={stdout:Da({isTTY:ji.default.isatty(1)}),stderr:Da({isTTY:ji.default.isatty(2)})},ja=wp;function $a(e,t,r){let n=e.indexOf(t);if(n===-1)return e;let i=t.length,o=0,a="";do a+=e.slice(o,n)+t+r,o=n+i,n=e.indexOf(t,o);while(n!==-1);return a+=e.slice(o),a}function Aa(e,t,r,n){let i=0,o="";do{let a=e[n-1]==="\r";o+=e.slice(i,a?n-1:n)+t+(a?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return o+=e.slice(i),o}var{stdout:Oa,stderr:Ia}=ja,$i=Symbol("GENERATOR"),wt=Symbol("STYLER"),Ht=Symbol("IS_EMPTY"),Ma=["ansi","ansi","ansi256","ansi16m"],xt=Object.create(null),xp=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Oa?Oa.level:0;e.level=t.level===void 0?r:t.level};var _p=e=>{let t=(...r)=>r.join(" ");return xp(t,e),Object.setPrototypeOf(t,zt.prototype),t};function zt(e){return _p(e)}Object.setPrototypeOf(zt.prototype,Function.prototype);for(let[e,t]of Object.entries(ge))xt[e]={get(){let r=Cn(this,Oi(t.open,t.close,this[wt]),this[Ht]);return Object.defineProperty(this,e,{value:r}),r}};xt.visible={get(){let e=Cn(this,this[wt],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var Ai=(e,t,r,...n)=>e==="rgb"?t==="ansi16m"?ge[r].ansi16m(...n):t==="ansi256"?ge[r].ansi256(ge.rgbToAnsi256(...n)):ge[r].ansi(ge.rgbToAnsi(...n)):e==="hex"?Ai("rgb",t,r,...ge.hexToRgb(...n)):ge[r][e](...n),vp=["rgb","hex","ansi256"];for(let e of vp){xt[e]={get(){let{level:r}=this;return function(...n){let i=Oi(Ai(e,Ma[r],"color",...n),ge.color.close,this[wt]);return Cn(this,i,this[Ht])}}};let t="bg"+e[0].toUpperCase()+e.slice(1);xt[t]={get(){let{level:r}=this;return function(...n){let i=Oi(Ai(e,Ma[r],"bgColor",...n),ge.bgColor.close,this[wt]);return Cn(this,i,this[Ht])}}}}var Sp=Object.defineProperties(()=>{},{...xt,level:{enumerable:!0,get(){return this[$i].level},set(e){this[$i].level=e}}}),Oi=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},Cn=(e,t,r)=>{let n=(...i)=>kp(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,Sp),n[$i]=e,n[wt]=t,n[Ht]=r,n},kp=(e,t)=>{if(e.level<=0||!t)return e[Ht]?"":t;let r=e[wt];if(r===void 0)return t;let{openAll:n,closeAll:i}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=$a(t,r.close,r.open),r=r.parent;let o=t.indexOf(`
`);return o!==-1&&(t=Aa(t,i,n,o)),n+t+i};Object.defineProperties(zt.prototype,xt);var Ep=zt(),nh=zt({level:Ia?Ia.level:0});var d=Ep;var kn=require("child_process"),rp=require("commander"),bt=_(require("fs")),wa=_(require("open")),Sn=_(require("path")),np=_(require("prompts")),xa=_(require("xdg-app-paths"));var xl=_(require("assert"));var z=_(require("fs")),_l=_(require("http")),vl=_(require("open"));var fr=_(require("process"),1);var Ni=_(require("process"),1);var za=_(require("process"),1),Ya=_(Ua(),1),Ka=_(Ha(),1),Cp=(0,Ya.default)(()=>{(0,Ka.default)(()=>{za.default.stderr.write("\x1B[?25h")},{alwaysLast:!0})}),Xa=Cp;var An=!1,kt={};kt.show=(e=Ni.default.stderr)=>{e.isTTY&&(An=!1,e.write("\x1B[?25h"))};kt.hide=(e=Ni.default.stderr)=>{e.isTTY&&(Xa(),An=!0,e.write("\x1B[?25l"))};kt.toggle=(e,t)=>{e!==void 0&&(An=e),An?kt.show(t):kt.hide(t)};var Bi=kt;var pr=_(Ui(),1);var pe=_(require("process"),1);function Kt(){return pe.default.platform!=="win32"?pe.default.env.TERM!=="linux":!!pe.default.env.CI||!!pe.default.env.WT_SESSION||!!pe.default.env.TERMINUS_SUBLIME||pe.default.env.ConEmuTask==="{cmd::Cmder}"||pe.default.env.TERM_PROGRAM==="Terminus-Sublime"||pe.default.env.TERM_PROGRAM==="vscode"||pe.default.env.TERM==="xterm-256color"||pe.default.env.TERM==="alacritty"||pe.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Rp={info:d.blue("\u2139"),success:d.green("\u2714"),warning:d.yellow("\u26A0"),error:d.red("\u2716")},Dp={info:d.blue("i"),success:d.green("\u221A"),warning:d.yellow("\u203C"),error:d.red("\xD7")},Fp=Kt()?Rp:Dp,Xt=Fp;function qi({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function Wi(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(qi(),"")}var _c=_(ls(),1);function Ji({stream:e=process.stdout}={}){return!!(e&&e.isTTY&&process.env.TERM!=="dumb"&&!("CI"in process.env))}var me=_(require("process"),1),wc=_(require("readline"),1),xc=_(bc(),1);var qd=3,je,lr,Rt,Be,ko=class{constructor(){G(this,je,0);G(this,lr,new xc.BufferListStream);G(this,Rt,void 0);G(this,Be,void 0);b(this,lr).pipe(me.default.stdout);let t=this;D(this,Rt,function(r,n,...i){let{stdin:o}=me.default;if(b(t,je)>0||o.emit===b(t,Rt)){if(r==="keypress")return;r==="data"&&n.includes(qd)&&me.default.emit("SIGINT"),Reflect.apply(b(t,Rt),this,[r,n,...i])}else Reflect.apply(me.default.stdin.emit,this,[r,n,...i])})}start(){Vt(this,je)._++,b(this,je)===1&&this._realStart()}stop(){if(b(this,je)<=0)throw new Error("`stop` called more times than `start`");Vt(this,je)._--,b(this,je)===0&&this._realStop()}_realStart(){me.default.platform!=="win32"&&(D(this,Be,wc.default.createInterface({input:me.default.stdin,output:b(this,lr)})),b(this,Be).on("SIGINT",()=>{me.default.listenerCount("SIGINT")===0?me.default.emit("SIGINT"):(b(this,Be).close(),me.default.kill(me.default.pid,"SIGINT"))}))}_realStop(){me.default.platform!=="win32"&&(b(this,Be).close(),D(this,Be,void 0))}};je=new WeakMap,lr=new WeakMap,Rt=new WeakMap,Be=new WeakMap;var Wd=new ko,Eo=Wd;var Gd=_(Ui(),1);var Ue,Dt,nt,$e,J,ke,Z,it,Ft,Ee,Te,Ce,jt,be,we,To=class{constructor(t){G(this,Ue,0);G(this,Dt,!1);G(this,nt,0);G(this,$e,0);G(this,J,void 0);G(this,ke,void 0);G(this,Z,void 0);G(this,it,void 0);G(this,Ft,void 0);G(this,Ee,void 0);G(this,Te,void 0);G(this,Ce,void 0);G(this,jt,void 0);G(this,be,void 0);G(this,we,void 0);Ea(this,"color");typeof t=="string"&&(t={text:t}),D(this,J,{color:"cyan",stream:fr.default.stderr,discardStdin:!0,hideCursor:!0,...t}),this.color=b(this,J).color,this.spinner=b(this,J).spinner,D(this,Ft,b(this,J).interval),D(this,Z,b(this,J).stream),D(this,Ee,typeof b(this,J).isEnabled=="boolean"?b(this,J).isEnabled:Ji({stream:b(this,Z)})),D(this,Te,typeof b(this,J).isSilent=="boolean"?b(this,J).isSilent:!1),this.text=b(this,J).text,this.prefixText=b(this,J).prefixText,this.suffixText=b(this,J).suffixText,this.indent=b(this,J).indent,fr.default.env.NODE_ENV==="test"&&(this._stream=b(this,Z),this._isEnabled=b(this,Ee),Object.defineProperty(this,"_linesToClear",{get(){return b(this,Ue)},set(r){D(this,Ue,r)}}),Object.defineProperty(this,"_frameIndex",{get(){return b(this,$e)}}),Object.defineProperty(this,"_lineCount",{get(){return b(this,nt)}}))}get indent(){return b(this,Ce)}set indent(t=0){if(!(t>=0&&Number.isInteger(t)))throw new Error("The `indent` option must be an integer from 0 and up");D(this,Ce,t),this.updateLineCount()}get interval(){return b(this,Ft)||b(this,ke).interval||100}get spinner(){return b(this,ke)}set spinner(t){if(D(this,$e,0),D(this,Ft,void 0),typeof t=="object"){if(t.frames===void 0)throw new Error("The given spinner must have a `frames` property");D(this,ke,t)}else if(!Kt())D(this,ke,pr.default.line);else if(t===void 0)D(this,ke,pr.default.dots);else if(t!=="default"&&pr.default[t])D(this,ke,pr.default[t]);else throw new Error(`There is no built-in spinner named '${t}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`)}get text(){return b(this,jt)}set text(t){D(this,jt,t||""),this.updateLineCount()}get prefixText(){return b(this,be)}set prefixText(t){D(this,be,t||""),this.updateLineCount()}get suffixText(){return b(this,we)}set suffixText(t){D(this,we,t||""),this.updateLineCount()}get isSpinning(){return b(this,it)!==void 0}getFullPrefixText(t=b(this,be),r=" "){return typeof t=="string"&&t!==""?t+r:typeof t=="function"?t()+r:""}getFullSuffixText(t=b(this,we),r=" "){return typeof t=="string"&&t!==""?r+t:typeof t=="function"?r+t():""}updateLineCount(){let t=b(this,Z).columns||80,r=this.getFullPrefixText(b(this,be),"-"),n=this.getFullSuffixText(b(this,we),"-"),i=" ".repeat(b(this,Ce))+r+"--"+b(this,jt)+"--"+n;D(this,nt,0);for(let o of Wi(i).split(`
`))D(this,nt,b(this,nt)+Math.max(1,Math.ceil((0,_c.default)(o)/t)))}get isEnabled(){return b(this,Ee)&&!b(this,Te)}set isEnabled(t){if(typeof t!="boolean")throw new TypeError("The `isEnabled` option must be a boolean");D(this,Ee,t)}get isSilent(){return b(this,Te)}set isSilent(t){if(typeof t!="boolean")throw new TypeError("The `isSilent` option must be a boolean");D(this,Te,t)}frame(){let{frames:t}=b(this,ke),r=t[b(this,$e)];this.color&&(r=d[this.color](r)),D(this,$e,++Vt(this,$e)._%t.length);let n=typeof b(this,be)=="string"&&b(this,be)!==""?b(this,be)+" ":"",i=typeof this.text=="string"?" "+this.text:"",o=typeof b(this,we)=="string"&&b(this,we)!==""?" "+b(this,we):"";return n+r+i+o}clear(){if(!b(this,Ee)||!b(this,Z).isTTY)return this;b(this,Z).cursorTo(0);for(let t=0;t<b(this,Ue);t++)t>0&&b(this,Z).moveCursor(0,-1),b(this,Z).clearLine(1);return(b(this,Ce)||this.lastIndent!==b(this,Ce))&&b(this,Z).cursorTo(b(this,Ce)),this.lastIndent=b(this,Ce),D(this,Ue,0),this}render(){return b(this,Te)?this:(this.clear(),b(this,Z).write(this.frame()),D(this,Ue,b(this,nt)),this)}start(t){return t&&(this.text=t),b(this,Te)?this:b(this,Ee)?this.isSpinning?this:(b(this,J).hideCursor&&Bi.hide(b(this,Z)),b(this,J).discardStdin&&fr.default.stdin.isTTY&&(D(this,Dt,!0),Eo.start()),this.render(),D(this,it,setInterval(this.render.bind(this),this.interval)),this):(this.text&&b(this,Z).write(`- ${this.text}
`),this)}stop(){return b(this,Ee)?(clearInterval(b(this,it)),D(this,it,void 0),D(this,$e,0),this.clear(),b(this,J).hideCursor&&Bi.show(b(this,Z)),b(this,J).discardStdin&&fr.default.stdin.isTTY&&b(this,Dt)&&(Eo.stop(),D(this,Dt,!1)),this):this}succeed(t){return this.stopAndPersist({symbol:Xt.success,text:t})}fail(t){return this.stopAndPersist({symbol:Xt.error,text:t})}warn(t){return this.stopAndPersist({symbol:Xt.warning,text:t})}info(t){return this.stopAndPersist({symbol:Xt.info,text:t})}stopAndPersist(t={}){if(b(this,Te))return this;let r=t.prefixText||b(this,be),n=this.getFullPrefixText(r," "),i=t.symbol||" ",o=t.text||this.text,a=typeof o=="string"?" "+o:"",s=t.suffixText!==void 0?t.suffixText:b(this,we),l=this.getFullSuffixText(s," "),c=n+i+a+l+`
`;return this.stop(),b(this,Z).write(c),this}};Ue=new WeakMap,Dt=new WeakMap,nt=new WeakMap,$e=new WeakMap,J=new WeakMap,ke=new WeakMap,Z=new WeakMap,it=new WeakMap,Ft=new WeakMap,Ee=new WeakMap,Te=new WeakMap,Ce=new WeakMap,jt=new WeakMap,be=new WeakMap,we=new WeakMap;function $(e){return new To(e)}var Sl=_(require("url"));function Qn(e,t){let r=["debug","info","warn","error"];return r.indexOf(t)>=r.indexOf(e)}var Co=class{constructor(t){this._minLevel="info";t?.minLevel&&(this._minLevel=t.minLevel)}setSettings(t){t.minLevel&&(this._minLevel=t.minLevel)}debug(...t){Qn(this._minLevel,"debug")&&console.info(...t)}info(...t){Qn(this._minLevel,"info")&&console.info(...t)}warn(...t){Qn(this._minLevel,"warn")&&console.warn(...t)}error(...t){Qn(this._minLevel,"error")&&console.error(...t)}},y=new Co;function ne(e){return $(`${e}
`).start()}function M(e){return $(e).succeed()}function vc(e){return $(e).warn()}function ur(e){return $(e).fail()}var kl=require("@thirdweb-dev/auth");var Lo=_(require("@iarna/toml")),Pe=require("fs"),ul=_(require("path"));var fl=_(Mo());async function V(e,t,r=!1,n){return new Promise((i,o)=>{let a=(0,fl.spawn)(e,t);a.stdout?.on("data",s=>{n&&n(s),r&&console.log(s.toString())}),a.stderr?.on("data",s=>{r&&console.error(s.toString())}),a.on("error",s=>{console.log("Spawn error",s)}),a.on("close",s=>{if(s!==0){o({command:`${e}`,exitCode:s});return}i()})})}var dl=_(require("crypto"));function ml(e){return dl.default.randomBytes(e).toString("hex")}function pl(e){return Object.entries(e).map(([t,r])=>{let n="";return typeof r=="string"?n=r:typeof r=="object"&&(n=r.version),n=n.replace("^",""),`${t}==${n}`})}var O=e=>{let t=JSON.parse(e.toString()),r=t.dependencies||{},n=t.devDependencies||{},i=t.peerDependencies||{};return{dependencies:r,devDependencies:n,peerDependencies:i}},ym=e=>({dependencies:e.toString().split(`
`)}),bm=e=>{let t=Lo.parse(e),r=t.packages||[],n=t["dev-packages"]||[];return{dependencies:r,devDependencies:n}},wm=e=>{let t=Lo.parse(e),r=t.tool.poetry.dependencies||[],n=t.tool.poetry["dev-dependencies"]||[];return{dependencies:pl(r),devDependencies:pl(n)}},qe=e=>{let t=[],r=e.split(`
`);return r.forEach(n=>{if(n=n.trim(),n.startsWith("require (")){let i=r.indexOf(n)+1;for(;i<r.length&&r[i].trim()!==")";){let o=r[i].trim(),[a,s]=o.split(" ");t.push({name:a,version:s}),i++}}}),{dependencies:t}},We=(e,t)=>{let r=e.split(`
`);return r.forEach(()=>{if(r.includes(t))return!0}),!1},ae=(e,t)=>{let r=[],n=[];switch(t){case"pip":if(!(0,Pe.existsSync)(e+"/requirements.txt"))break;let o=(0,Pe.readFileSync)(e+"/requirements.txt");r=ym(o).dependencies;break;case"pipenv":if(!(0,Pe.existsSync)(e+"Pipfile"))break;let s=(0,Pe.readFileSync)(e+"Pipfile","utf-8"),l=bm(s);r=l.dependencies,n=l.devDependencies;break;case"poetry":if(!(0,Pe.existsSync)(e+"/pyproject.toml"))break;let f=(0,Pe.readFileSync)(e+"/pyproject.toml","utf-8");r=wm(f).dependencies;break;default:break}return{dependencies:r,devDependencies:n}},xm=async e=>{try{let t=`https://registry.npmjs.org/${e}`,r=await fetch(t);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json())["dist-tags"].latest}catch(t){console.error(`Failed to get latest version of ${e}:`,t)}},No=async(e,t,r,n,i)=>{let o="",a=[],s=[],l=[],c=i?.debug||!1;switch(e){case"npm":o="npm",a=["install"],s=["install","--legacy-peer-deps"];break;case"yarn":o="yarn",a=["add"],s=["add"];break;case"pnpm":o="pnpm",a=["install"],s=["update"];break;case"pip":o="pip",a=["install"],s=["install","--upgrade"];break;case"pipenv":o="pipenv",a=["install"],s=["update"];break;case"poetry":o="poetry",a=["add"],s=["update"];break;case"go-modules":o="go",a=["get"],s=["get","-u"];break;case"brownie":o="brownie",a=["pm","install"],s=["pm","update"],l=["pm","delete"];break;case"foundry":o="forge",a=["install","--no-commit"],s=["update"],l=["remove"];break;default:break}if(n==="install"){if(!t.length)return;let f=[...a,...t];await V(o,f,c),i?.oldVersion&&await V(o,[...l,i.oldVersion],c)}if(n==="update"){if(!r.length)return;let f=[...s,...r];await V(o,f,c)}},hl=async e=>{let r=(await _m()).match(e);return r!==null?{package:r[0],exists:!0}:{package:"",exists:!1}},_m=async()=>{let e="";return await V("brownie",["pm","list"],!0,t=>{e+=t.toString()}),e=e.replace(/\u001b\[\d+(;\d+)*m/g,""),e},gl=async(e,t)=>{let r=ul.default.join(e,"lib",t);return(0,Pe.existsSync)(r)},yl=e=>{let r=(0,Pe.readFileSync)(e+"/go.mod","utf-8").split(`
`),n=[];for(let i of r)if(i.includes("github.com/thirdweb-dev")){let o=i.split(/\s+/),a=o[1].trim(),s=o[2];n.push({name:a,version:s})}return n},bl=async e=>{let{detectedPackageManager:t,thirdwebDepsToUpdate:r,thirdwebDepsToInstall:n,isJSPackageManager:i}=e;if(i&&(r.has("@thirdweb-dev/contracts")||n.add("@thirdweb-dev/contracts")),t==="brownie"){let o=await xm("@thirdweb-dev/contracts");if(r.has(`thirdweb-dev/contracts@${o}`))return Promise.reject("You already have the latest version of thirdweb-dev/contracts installed.");r.has(`thirdweb-dev/contracts@${o}`)||n.add(`thirdweb-dev/contracts@${o}`)}t==="foundry"&&(r.has("lib/thirdweb-contracts")||n.add("thirdweb-contracts=thirdweb-dev/contracts"))},wl=async e=>{let{detectedFramework:t,thirdwebDepsToUpdate:r,thirdwebDepsToInstall:n,hasEthers:i,isJSPackageManager:o,otherDeps:a,isPythonPackageManager:s,isGoPackageManager:l,detectedLibrary:c}=e,p=["react","react-native","next","gatsby","cra","remix","vue","vite","svelte"].includes(t),u=c==="react-native";o&&(!r.has("@thirdweb-dev/react")&&p&&n.add("@thirdweb-dev/react"),!r.has("@thirdweb-dev/sdk")&&!u&&n.add("@thirdweb-dev/sdk"),!r.has("@thirdweb-dev/react-native")&&u&&n.add("@thirdweb-dev/react-native"),!r.has("@thirdweb-dev/react-native-compat")&&u&&n.add("@thirdweb-dev/react-native-compat"),i||a.add("ethers@5")),s&&(r.has("thirdweb-sdk")||n.add("thirdweb-sdk")),l&&(r.has("github.com/thirdweb-dev/go-sdk/v2")||n.add("github.com/thirdweb-dev/go-sdk/v2"))};var El=_(require("crypto")),vm={browser:!0,configPaths:{credsConfigPath:"",cliWalletPath:"",tokenPath:""}};async function Ot(e,t,r){let{credsConfigPath:n,tokenPath:i}=e,o=await Sm(i,n);if(o&&!t?.new)return r&&console.log(d.green("You are already logged in")),globalThis.TW_CLI_AUTH_TOKEN=o,o;{let a=await km({browser:!0,configPaths:e});if(!a)throw new Error("Failed to login");return globalThis.TW_CLI_AUTH_TOKEN=a,a}}async function Tl(e,t,r){try{if($("Logging out...").start(),!(z.default.existsSync(e)&&z.default.existsSync(t)&&z.default.existsSync(r))){$().warn(d.yellow("You are already logged out, did you mean to login?"));return}z.default.unlinkSync(e),z.default.unlinkSync(t),z.default.unlinkSync(r),$().succeed(d.green("You have been logged out"))}catch(n){console.log(d.red("Something went wrong",n))}}async function Sm(e,t){if(!z.default.existsSync(e)||!z.default.existsSync(t))return null;try{return z.default.readFileSync(e,"utf8")}catch(r){console.error(r)}}var km=async(e=vm)=>{let{credsConfigPath:t,cliWalletPath:r,tokenPath:n}=e.configPaths,i=ne("Waiting for a response from the dashboard").clear(),o=await Em(t,r),a=await o.getAddress(),s="thirdweb.com",c=await new kl.ThirdwebAuth(o,s).login({domain:s,address:a}),f=ml(32),u=`https://thirdweb.com/cli/login?payload=${encodeURIComponent(JSON.stringify(c))}&#${f}`,m,h,g=new Promise((w,v)=>{h=setTimeout(()=>{y.error("Login session timed out, server didn't receive a response in 5 minutes. Please try again."),m.close(),clearTimeout(h),v(new Error("Login session timed out, server didn't receive a response in 5 minutes. Please try again."))},3e5)}),x=new Promise((w,v)=>{m=_l.default.createServer(async(S,P)=>{function R(L){clearTimeout(h),m.close(oe=>{(L||oe)&&v(L||oe)})}if(P.setHeader("Access-Control-Allow-Credentials","true"),P.setHeader("Access-Control-Allow-Origin","https://thirdweb.com"),P.setHeader("Access-Control-Allow-Methods","POST"),S.method==="OPTIONS"){P.setHeader("Access-Control-Allow-Headers","content-type, baggage, sentry-trace"),P.writeHead(200),P.end();return}(0,xl.default)(S.url,"This request doesn't have a URL");let{pathname:j,query:T}=Sl.default.parse(S.url,!0);switch(j){case"/auth/callback":if(T.failed&&(P.writeHead(500,"Unable to authenticate with the dashboard!"),P.end("Unable to authenticate with the dashboard!",()=>{R(new Error("Unable to authenticate with the dashboard!"))}),v(d.red("Something went wrong! Unable to authenticate with the dashboard.")),i.stop()),T.token){let L=Array.isArray(T.token)?T.token[0]:T.token;(Array.isArray(T.state)?T.state[0]:T.state)!==f?(P.writeHead(400,{"Content-Type":"text/plain"}),P.end("Unauthorized request, state mismatch",()=>{R(new Error("Unauthorized request, state mismatch"))}),v(new Error(d.red(`
Unauthorized request, state mismatch`))),i.stop()):(z.default.writeFileSync(n,L),P.end(()=>{i.clear(),console.log(d.green("Successfully linked your account to this device")),R()}),y.info(d.green(`
Successfully logged in.`)),w(L))}else P.writeHead(400,{"Content-Type":"text/plain"}),P.end("No authToken received",()=>{R(new Error("No authToken received"))}),v(new Error(d.red(`
No authToken received`))),i.stop()}}),m.listen(8976)});return console.log(`Automatically attempting to open a link to authenticate with our dashboard...
`),i.start(),setTimeout(async()=>{await(0,vl.default)(u)},2e3),console.log(d.yellow(`If the browser doesn't open, please use this link to authenticate:
`)),console.log(d.yellow(u+`
`)),Promise.race([g,x])};async function Cl(e){if(z.default.existsSync(e)){let r=z.default.readFileSync(e,"utf8");try{JSON.parse(r)}catch{return z.default.unlinkSync(e),Cl(e)}let{password:n}=JSON.parse(r);return n}else return El.default.randomUUID()}async function Em(e,t){let r=await Cl(e),{LocalWallet:n}=await import("@thirdweb-dev/wallets"),i=new n;if(z.default.existsSync(t)){let s=z.default.readFileSync(t,"utf8");try{return JSON.parse(s),await i.import({encryptedJson:s,password:r}),i}catch{}}i.generate();let a=await i.export({strategy:"encryptedJson",password:r});return z.default.writeFileSync(t,a,{encoding:"utf8",mode:384}),z.default.writeFileSync(e,JSON.stringify({password:r}),"utf8"),i}var dr=async e=>{let t="https://api.thirdweb.com/v1/keys/use";try{if((await fetch(`${t}?scope=storage`,{method:"GET",headers:{"Content-Type":"application/json","x-secret-key":e}})).status!==200)throw new Error("Unauthorized key")}catch{throw new Error(d.red("Unauthorized key"))}};var ti=["ContractMetadata","Permissions"];var xe=require("fs"),Ge=require("path");function le(e,t,r){if(!(0,xe.existsSync)(e)){console.log("no dir ",e);return}let n=(0,xe.readdirSync)(e);for(let i=0;i<n.length;i++){let o=(0,Ge.join)(e,n[i]);if((0,Ge.basename)(o,".json")==="ThirdwebContract")continue;let a=(0,xe.statSync)(o);if(a.isDirectory()&&(0,Ge.basename)(o)==="dependencies"){y.debug('skipping "dependencies" directory');continue}else if(a.isDirectory()&&(0,Ge.basename)(o)==="node_modules"){y.debug('skipping "node_modules" directory');continue}a.isDirectory()?le(o,t,r):t.test(o)&&r.push(o)}}function Bo(e,t,r){if(!(0,xe.existsSync)(e)){console.log("no dir ",e);return}let n=(0,xe.readdirSync)(e);for(let i=0;i<n.length;i++){let o=(0,Ge.join)(e,n[i]),a=(0,xe.statSync)(o);if(!(a.isDirectory()&&(0,Ge.basename)(o)==="node_modules")&&!(a.isDirectory()&&o.startsWith(".")))if(a.isDirectory())Bo(o,t,r);else{let l=(0,xe.readFileSync)(o,"utf-8").match(t);l&&r.push(...l)}}}var Pl=require("child_process");async function Q(e,t,r={log:!1,cwd:t}){return new Promise((n,i)=>{(0,Pl.exec)(e,{...r},(o,a,s)=>{if(o){i(o);return}n({stdout:a,stderr:s})})})}var Rl=require("@thirdweb-dev/sdk/evm"),he=class{shouldProcessContract(t,r,n,i){if(!r||r===""||r==="0x"||!t||t.length===0)return!1;if(n==="ThirdwebContract"||n.toLowerCase().includes("test")||n.toLowerCase().includes("mock"))return y.debug(`Skipping '${n}'.`),!1;if(!i){let o;try{o=(0,Rl.extractIPFSHashFromBytecode)(r)}catch(a){y.debug(`Error extracting IPFS hash from '${n}': ${a}`)}if(!o)return y.debug(`Cannot resolve build metadata IPFS hash for contract '${n}'. Skipping.`),!1}return!0}isThirdwebContract(t){try{return t.name==="setThirdwebInfo"&&t.inputs[0].internalType==="struct ThirdwebContract.ThirdwebInfo"?(y.error("You are using an old version of ThirdwebContract, please update to the latest version: 'npm i @thirdweb-dev/contracts'"),!1):t.name==="tw_initializeOwner"&&t.inputs[0].internalType==="address"}catch{return!1}}};var ot=require("fs"),It=require("path"),Dl=require("yaml"),ri=class extends he{async compile(t){let r=(0,Dl.parse)((0,ot.readFileSync)((0,It.join)(t.projectPath,"brownie-config.yaml"),"utf-8")),n=(0,It.join)(t.projectPath,r?.project_structure?.build||"./build");(0,ot.existsSync)(n)&&(0,ot.rmSync)(n,{recursive:!0}),await Q("brownie compile",t.projectPath);let i=(0,It.join)(n,"contracts/"),o=[],a=[];le(i,/^.*(?<!dbg)\.json$/,a);for(let s of a){y.debug("Processing:",s.replace(i,""));let l=(0,It.basename)(s,".json"),c=(0,ot.readFileSync)(s,"utf-8"),f=JSON.parse(c),{abi:p,bytecode:u}=f;for(let m of p)if(this.isThirdwebContract(m)){o.find(h=>h.name===l)&&(y.error(`Found multiple contracts with name "${l}". Contract names should be unique.`),process.exit(1)),o.push({metadata:{},bytecode:u,sources:[],fileName:"",name:l});break}}return{contracts:o}}};var Uo=require("ethers"),Fl=require("ethers/lib/utils");function qo(e,t){let r=t||[],[n,i]=e.split(":");if(!(0,Fl.isAddress)(i))throw new Error(`Invalid address ${i} `);return r.push({library:n,address:i}),r}function Mt(e,t={}){let r=e;for(let[n,i]of Object.entries(t)){let o=`__$${Uo.utils.solidityKeccak256(["string"],[n]).slice(2,36)}$__`,a=Uo.utils.getAddress(i).toLowerCase().replace("0x","");r=r.replaceAll(o,a)}return r}var jl=require("child_process");async function ni(){return await new Promise(e=>{(0,jl.exec)("forge --version",t=>{e(!t)})})}var at=require("fs"),st=require("path"),ii=class extends he{async compile(t){await ni()||(console.error(`
${d.redBright("error")} You don't have forge installed on this machine!

You can install forge by following these instructions:
${d.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`),process.exit(1)),t.clean&&await Q("forge clean",t.projectPath),await Q("forge build --extra-output metadata",t.projectPath);let n=(await Q("forge config --json",t.projectPath)).stdout,i=JSON.parse(n),o=(0,st.join)(t.projectPath,i.out),a=[],s=[];le(o,/^.*(?<!metadata)\.json$/,s);let l={};if(Array.isArray(t.linkLib)&&t.linkLib.length>0){for(let c=0;c<s.length;c++){let f=s[c],p=(0,st.basename)(f,".json"),u=(0,at.readFileSync)(f,"utf-8"),m=JSON.parse(u);t.linkLib.forEach(h=>{if(p===h.library){let g=`${m.ast.absolutePath}:${h.library}`;l[g]=h.address}})}y.debug(`Found libraries to link: ${JSON.stringify(l)}`)}for(let c=0;c<s.length;c++){let f=s[c],p=(0,st.basename)(f,".json"),u=(0,at.readFileSync)(f,"utf-8"),m=JSON.parse(u);if(!m.bytecode||!m.deployedBytecode||!m.metadata){y.debug("Skipping",p,"(no bytecode or metadata)");continue}let h=m.metadata.settings.compilationTarget;if(Object.keys(h).length===0||Object.keys(h)[0].includes("@")||this.isTestOrScript(Object.keys(h)[0])){y.debug("Skipping",p,"(not a source target)");continue}if(p.startsWith("std")){y.debug("Skipping",p,"(std library contract)");continue}let g=m.bytecode.object,x=m.deployedBytecode.object;g=Mt(g,l),x=Mt(x,l);let w=m.metadata,v=m.rawMetadata||this.sanitizeParsedMetadata(w,m.abi),S=Object.keys(w.sources).map(j=>{if(j.startsWith("/")&&(0,at.existsSync)(j))return j;let T=(0,st.join)(t.projectPath,j);if((0,at.existsSync)(T))return T;let L=(0,st.join)(t.projectPath,"node_modules",j);if((0,at.existsSync)(L))return L}).filter(j=>j!==void 0),P=Object.keys(w?.settings?.compilationTarget||{}),R=P.length>0?P[0]:"";this.shouldProcessContract(m.abi,x,p)&&a.push({name:p,metadata:v,bytecode:g,fileName:R,sources:S})}return{contracts:a}}isTestOrScript(t){return t.endsWith(".s.sol")||t.endsWith(".t.sol")}sort(t){if(typeof t!="object"||t instanceof Array)return t;let r=Object.keys(t);r.sort();let n={};for(let i=0;i<r.length;i++)n[r[i]]=this.sort(t[r[i]]);return n}sanitizeParsedMetadata(t,r){t.output.abi=r,t.settings.libraries||(t.settings.libraries={}),t.settings.evmVersion||(t.settings.evmVersion="london"),delete t.settings.outputSelection;let n=this.sort(t);return JSON.stringify(n)}};var Lt=require("fs"),Je=require("path"),oi=class extends he{async compile(t){let r=(0,Je.resolve)(__dirname,"../helpers/hardhat-config-extractor.js"),n=(await Q(`npx hardhat run "${r}" --no-compile`,t.projectPath)).stdout,i=JSON.parse(n.split("__tw__")[1]);y.debug("successfully extracted hardhat config",i),await Q("npx hardhat clean",t.projectPath);let o=!1;if(t.zksync){let h=Object.entries(i.networks).find(g=>g[1].zksync);o=(h?.[1]).zksync,await Q(`npx hardhat compile --network ${h?.[0]}`,t.projectPath)}else await Q("npx hardhat compile",t.projectPath);let a=i.solidity.compilers;if(a)for(let h of a){let g=h.settings?.metadata?.bytecodeHash;if(g&&g!=="ipfs")throw new Error(`Deploying requires "bytecodeHash: 'ipfs'" in your hardhat.config.js file, but it's currently set as "bytecodeHash: '${g}'". Please change it to 'ipfs' and try again.`)}let s=i.paths.artifacts,l=i.paths.sources.replace(t.projectPath,""),c=(0,Je.join)(s,l),f=[];le(c,/^.*(?<!dbg)\.json$/,[]);let u=(0,Je.join)(s,"build-info"),m=[];le(u,/^.*(?<!dbg)\.json$/,m);for(let h of m){let g=(0,Lt.readFileSync)(h,"utf-8"),w=JSON.parse(g).output.contracts,v={};if(Array.isArray(t.linkLib)&&t.linkLib.length>0){for(let[S,P]of Object.entries(w)){let R=Object.keys(P);t.linkLib.forEach(j=>{if(R.includes(j.library)){let T=`${S}:${j.library}`;v[T]=j.address}})}y.debug(`Found libraries to link: ${JSON.stringify(v)}`)}for(let[S,P]of Object.entries(w)){if(S.includes("@")){y.debug("Skipping",S,"(not a source target)");continue}for(let[R,j]of Object.entries(P)){let T=j;if(!T.evm||!T.evm.bytecode||!T.evm.bytecode.object||!T.metadata||!T.abi){y.debug("Skipping",S,"(no bytecode or metadata)");continue}let L=T.evm.bytecode.object,oe=T.evm.deployedBytecode?.object||L;L=Mt(L,v),oe=Mt(oe,v);let{metadata:X,abi:E}=T,ce=X.solc_metadata?JSON.parse(X.solc_metadata):JSON.parse(X),De=Object.keys(ce.sources).map(Jt=>{let va=(0,Je.join)(t.projectPath,Jt);if((0,Lt.existsSync)(va))return va;let Sa=(0,Je.join)(t.projectPath,l,Jt);if((0,Lt.existsSync)(Sa))return Sa;let ka=(0,Je.join)(t.projectPath,"node_modules",Jt);if((0,Lt.existsSync)(ka))return ka}).filter(Jt=>Jt!==void 0),_a=Object.keys(ce?.settings?.compilationTarget||{}),ip=_a.length>0?_a[0]:"";this.shouldProcessContract(E,oe,R,o)&&f.push({metadata:JSON.stringify(ce),bytecode:L,name:R,fileName:ip,sources:De})}}}return{contracts:f}}};var Y=require("fs"),Ae=require("path"),$l=_(require("solc")),ai=class extends he{async compile(t){let r=[];le(t.projectPath,/^.*\.sol$/,r);let n=r.reduce((c,f)=>{let p=(0,Y.readFileSync)(f,"utf-8");return c[(0,Ae.basename)(f)]={content:p},c},{}),i={language:"Solidity",sources:n,settings:{outputSelection:{"*":{"*":["*"]}},optimizer:{enabled:!0,runs:800}}},o=JSON.parse($l.default.compile(JSON.stringify(i),{import:c=>{let f=(0,Ae.join)(t.projectPath,"node_modules",c);return(0,Y.existsSync)(f)?{contents:(0,Y.readFileSync)(f,"utf-8")}:{error:"file not found"}}}));if(o.errors)throw y.error(o.errors),new Error("Error compiling Solidity files");let a=(0,Ae.join)(t.projectPath,"artifacts");(0,Y.existsSync)(a)&&(0,Y.rmSync)(a,{recursive:!0}),(0,Y.existsSync)(a)||(0,Y.mkdirSync)(a),Object.keys(o.contracts).filter(c=>c in n).forEach(c=>{let f=o.contracts[c],p=(0,Ae.join)(t.projectPath,"artifacts",c);(0,Y.existsSync)(p)||(0,Y.mkdirSync)(p);let u=Object.keys(f);for(let m of u){let h=f[m],g=(0,Ae.join)(p,m+".json");(0,Y.writeFileSync)(g,JSON.stringify(h,null,2))}});let s=[],l=[];le(a,/^.*(?<!dbg)\.json$/,l);for(let c of l){y.debug("Processing:",c.replace(a,""));let f=(0,Ae.basename)(c,".json"),p=(0,Y.readFileSync)(c,"utf-8"),u=JSON.parse(p),m=u.evm.bytecode.object,h=u.evm.deployedBytecode.object,g=u.metadata,x=JSON.parse(g),w=x.output.abi,v=x.settings.compilationTarget;if(Object.keys(v).length===0||Object.keys(v)[0].includes("@")){y.debug("Skipping",f,"(not a source target)");continue}let S=Object.keys(x.sources).map(j=>{let T=r.find(oe=>oe.includes(j));if(T&&(0,Y.existsSync)(T))return T;let L=(0,Ae.join)(t.projectPath,"node_modules",j);if((0,Y.existsSync)(L))return L}).filter(j=>j!==void 0),P=Object.keys(x?.settings?.compilationTarget||{}),R=P.length>0?P[0]:"";this.shouldProcessContract(w,h,f)&&s.push({metadata:g,bytecode:m,name:f,fileName:R,sources:S})}return{contracts:s}}};var Ve=require("fs"),mr=require("path"),si=class extends he{async compile(t){let r=require((0,mr.join)(t.projectPath,"truffle-config.js")),n=(0,mr.join)(t.projectPath,r.contracts_build_directory||"./build/contracts");(0,Ve.existsSync)(n)&&(0,Ve.rmSync)(n,{recursive:!0}),await Q("npx --yes truffle compile",t.projectPath);let i=[],o=[];le(n,/^.*(?<!dbg)\.json$/,o);for(let a of o){y.debug("Processing:",a.replace(n,""));let s=(0,Ve.readFileSync)(a,"utf-8"),l=JSON.parse(s),{contractName:c,metadata:f,bytecode:p,deployedBytecode:u}=l,m=JSON.parse(f),h=m.output.abi,g=m.settings.compilationTarget;if(Object.keys(g).length===0||Object.keys(g)[0].includes("@")){y.debug("Skipping",c,"(not a source target)");continue}let x=Object.keys(m.sources).map(S=>{S=S.replace("project:/","");let P=(0,mr.join)(t.projectPath,S);if((0,Ve.existsSync)(P))return P;let R=(0,mr.join)(t.projectPath,"node_modules",S);if((0,Ve.existsSync)(R))return R}).filter(S=>S!==void 0),w=Object.keys(m?.settings?.compilationTarget||{}),v=w.length>0?w[0]:"";this.shouldProcessContract(h,u,c)&&i.push({metadata:f,bytecode:p,name:c,fileName:v,sources:x})}return{contracts:i}}};async function ct(e,t,r){let n;switch(t){case"hardhat":{n=new oi;break}case"foundry":{n=new ii;break}case"truffle":{n=new si;break}case"brownie":{n=new ri;break}default:{n=new ai;break}}return await n.compile({name:"",projectPath:e,clean:r.clean,zksync:r.zksync,linkLib:r.linkLib})}var _e={typeOfProject:"What type of project do you want to create?",projectName:"What is your project named?",contractName:"What will be the name of your new smart contract?",extensionName:"What will be the name of your new extension?",framework:"What framework do you want to use?",language:"What language do you want to use?",contract:"What type of contract do you want to start from?",extensions:"What extensions do you want to add to your contract?",reactNative:"What type of React Native project do you want to create?"},Al={chains:"What chains are you using in your project?"},Ol={noConfiguration:"No contract project configuration file found in current directory"};var Il=require("fs"),hr=class{constructor(){this.projectType="foundry"}matches(t){return(0,Il.existsSync)(t+"/foundry.toml")}};var Wo=require("fs"),gr=class{constructor(){this.projectType="hardhat"}matches(t){return(0,Wo.existsSync)(t+"/hardhat.config.js")||(0,Wo.existsSync)(t+"/hardhat.config.ts")}};var Ml=require("fs"),yr=class{constructor(){this.projectType="truffle"}matches(t){return(0,Ml.existsSync)(t+"/truffle-config.js")}};var ci=require("fs"),Ll=_(require("inquirer")),Nl=require("path"),{Confirm:Tm}=require("enquirer");async function lt(e,t){let n=[new gr,new hr,new yr].filter(o=>o.matches(e)).map(o=>o.projectType);if(!n.length)return Cm(e)?(vc(`${Ol.noConfiguration} ${e}`),await new Tm({name:"continue",message:"Do you want to continue and compile this project with solc instead?",initial:!0}).run()||(y.warn("Aborted contract compilation"),process.exit(1)),"solc"):"none";if(n.length===1)return M(`Detected project type: ${n[0]}`),n[0];M(`Detected multiple possible build tools: ${n.map(o=>`"${o}"`).join(", ")}`);let i="How would you like to compile your contracts";return t.ci?n[0]:(await Ll.default.prompt({type:"list",choices:n,name:i}))[i]}function Cm(e){return["","/contracts"].filter(t=>{let r=e+t;return(0,ci.existsSync)(r)?(0,ci.readdirSync)(r).filter(o=>{let{ext:a}=(0,Nl.parse)(o);return a===".sol"}).length>0:!1}).length>0}var Bl=_(require("prompts")),{MultiSelect:Pm}=require("enquirer");function Nt(e,t){return new Pm({name:"value",message:t,hint:"Use <space> to select, <return> to submit",choices:e,result(r){return this.map(r)},onSubmit(){this.selected.length===0&&this.enable(this.focused)},indicator(r,n){return n.enabled?this.styles.primary(this.symbols.hexagon.on):this.symbols.hexagon.off},styles:{primary:d.blueBright,get em(){return this.primary}}})}async function Ul(e,t){return await(0,Bl.default)({type:"select",name:"routerType",message:t,choices:e})}var Go=require("child_process");function Bt(){try{let e=process.env.npm_config_user_agent;if(e){if(e.startsWith("yarn"))return"yarn";if(e.startsWith("pnpm"))return"pnpm"}try{return(0,Go.execSync)("yarn --version",{stdio:"ignore"}),"yarn"}catch{return(0,Go.execSync)("pnpm --version",{stdio:"ignore"}),"pnpm"}}catch{return"npm"}}var ql=require("@thirdweb-dev/sdk");var li=require("fs");var Wl=_(require("path"));async function Gl(e){y.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(y.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:Wl.default.resolve(`${t}/${e.path}`)),y.debug("Processing project at path "+t);let r=await lt(t,e),n,i=ne("Compiling project...");try{n=await ct(t,r,e)}catch(s){i.fail("Compilation failed"),y.error(s),process.exit(1)}i.succeed("Compilation successful");let o=[];if(n.contracts.length===1)o=[n.contracts[0]];else if(e.all)o=n.contracts;else{let s=n.contracts.map(f=>({name:f.name,value:f})),c=await Nt(s,"Choose which contracts to run detection on").run();o=Object.keys(c).map(f=>c[f])}o.map(s=>{let l=JSON.parse(s.metadata).output.abi,c=Jl((0,ql.detectFeatures)(l)),f=c.enabledFeatures.map(u=>({name:u.name,reference:`https://portal.thirdweb.com/interfaces/${u.name.toLowerCase()}`})),p=c.suggestedFeatures.map(u=>({name:u.name,reference:`https://portal.thirdweb.com/interfaces/${u.name.toLowerCase()}`}));return{name:s.name,enabledFeatures:f,suggestedFeatures:p}}).map(s=>{y.info(`
`),s.enabledFeatures.length===0?$(`No extensions detected on ${d.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):($(`Detected extension on ${d.blueBright(s.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),s.enabledFeatures.map(c=>{y.info(`\u2714\uFE0F ${d.green(c.name)}`)})),y.info(""),$("Suggested extensions").info(),s.suggestedFeatures.map(c=>{y.info(`${d.dim(d.gray("-"))} ${d.gray(c.name)} - ${d.dim(d.gray(c.reference))}`)});let l="npx thirdweb@latest deploy";if((0,li.existsSync)(t+"/package.json")){let c=Bt(),f=c==="yarn";JSON.parse((0,li.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===l&&(l=`${c}${f?"":" run"} deploy`)}y.info(""),$("Once you're done writing your contracts, you can run the following command to deploy them:").info(),y.info(""),y.info(`     ${d.cyan(l)}`),y.info("")})}function Jl(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let i in e){let o=e[i];o.enabled?t.push(o):(t.findIndex(a=>a.name===n)>-1||ti.includes(o.name))&&r.push(o),Jl(o.features,t,r,o.name)}return{enabledFeatures:t,suggestedFeatures:r}}var wr=require("@thirdweb-dev/storage");var br=require("ethers"),xr=require("fs");var zl=_(require("path"));var Vl="0x0000000000000000000000000000000000000000",Jo={upgradeable:{name:"RouterUpgradeableFactory",metadataUri:"ipfs://QmdqXhoJg9RfDDURHxtHKDprh3VvyWEwZWVtQvnvXMannF",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/1"},"non-upgradeable":{name:"RouterImmutableFactory",metadataUri:"ipfs://QmPMmcxK7RwQfcRwS8kmFU2hLWRLWpgcsESeXeFHM8W3Wp",bytecodeUri:"ipfs://QmS63fhpjFFSzGXhM9deRSVaqWvEHEN9gcDkwNjiLr5oiV/0"},"thirdweb-router":{name:"TWRouterFactory",metadataUri:"ipfs://QmbrV9NUBZAXqoSHpdTzxsZjtubdqumgt6WTMLV8RW3tkV",bytecodeUri:"ipfs://QmYjMfB1uhnnsdz6qmmc3bBAv8jmnniCkjXpDU6jGN8H5s/1"}};var Vo="https://thirdweb.com",Ho=Hl(),Ut=Ho.version;async function fi(e,t,r){let n;r?n=new wr.ThirdwebStorage({secretKey:r}):n=new wr.ThirdwebStorage,y.setSettings({minLevel:e.debug?"debug":"info"});let i=process.cwd();e.path&&(y.debug("Overriding project path to "+e.path),i=e.path.startsWith("/")?e.path:zl.default.resolve(`${i}/${e.path}`)),y.debug("Processing project at path "+i);let o=e.zksync?"hardhat":await lt(i,e);if(o==="none"){if(t==="deploy")return M("No contracts detected in this directory. Redirecting to the thirdweb contract explore page."),"https://thirdweb.com/explore";ur("No detected contracts in this directory."),y.info(""),$("Detected contract files must end with the '.sol' extension and exist in this directory or the '/contracts' subdirectory").info(),y.info(""),$("To create a new contracts project, run the following command:").info(),y.info(""),y.info(`     ${d.cyan("npx thirdweb@latest create --contract")}`),y.info(""),process.exit(1)}if(e.ci){y.info("Installing dependencies...");try{switch(o){case"foundry":{await Q("npm install",i),await Q("forge install",i);break}default:{await Q("npm install",i);break}}}catch(m){y.warn("Could not install dependencies",m)}}let a,s=ne("Compiling project...");try{a=await ct(i,o,e)}catch(m){s.fail("Compilation failed"),y.error(m),process.exit(1)}s.succeed("Compilation successful"),a.contracts.length===0&&(y.error("No deployable contract detected. Run with the '--debug' option to see what contracts were skipped and why."),process.exit(1));let l={name:"",metadataUri:"",bytecodeUri:""};if(e.dynamic){let m=Object.keys(Jo).map(x=>({title:x,value:x})),h="",g=await Ul(m,"Choose a router to deploy");typeof g.routerType=="string"&&(h=g.routerType.trim()),l=Jo[h]}e.dynamic&&!l&&(ur("No router selected. Please select a router contract to deploy."),process.exit(1)),e.dynamic&&!l.name&&(ur("No router selected. Please select a router contract to deploy."),process.exit(1));let c=[];if(a.contracts.length===1)c=[a.contracts[0]],M(`Processing contract: ${d.blueBright(c.map(m=>`"${m.name}"`).join(", "))}`);else if(e.ci)c=a.contracts;else{let m=a.contracts.filter(w=>typeof e.file=="string"&&e.file.length>0?w.fileName.includes(e.file):!0).filter(w=>typeof e.contractName=="string"&&e.contractName.length>0?w.name.includes(e.contractName):!0);m.length===0&&(y.error("No contracts found matching the specified filters."),process.exit(1));let h=m.map(w=>a.contracts.filter(v=>v.name===w.name).length>1?{name:`${w.name} - ${d.gray(w.fileName)}`,value:w}:{name:w.name,value:w}),x=await Nt(h,e.dynamic?"Choose which extensions to add to your contract":`Choose which contract(s) to ${t}`).run();c=Object.keys(x).map(w=>x[w])}c.length===0&&(ur(`No contract selected. Please select at least one contract to ${t}.`),process.exit(1)),e.dryRun&&(M("Dry run, skipping deployment"),process.exit(0));let f="@thirdweb-dev/contracts",p=!1;if(e.dynamic)if(l.name==="thirdweb-router"){let m={extensionRegistry:Vl,extensionNames:c.map(g=>g.name)},h=JSON.stringify(m,void 0,2);(0,xr.writeFileSync)("./deployArgs.json",h,"utf-8"),M("Deployment parameters written to deployArgs.json in your project directory")}else{let m=await Fm(c,r),h=JSON.stringify(m,void 0,2);(0,xr.writeFileSync)("./deployArgs.json",h,"utf-8"),M("Deployment parameters written to deployArgs.json in your project directory")}let u=ne("Uploading contract data...");try{for(let v=0;v<c.length;v++){let S=c[v];if(S.sources)for(let R=0;R<S.sources.length;R=R+3){let j=S.sources.slice(R,R+3);y.debug(`Uploading Sources:
${j.join(`
`)}
`),await Promise.all(j.map(async T=>{let L=(0,xr.readFileSync)(T,"utf-8");return L.includes(f)&&(p=!0),await n.upload(L,{uploadWithoutDirectory:!0})}))}}let m=await Promise.all(c.map(async v=>(y.debug(`Uploading ${v.name}...`),await n.upload(JSON.parse(JSON.stringify(v.metadata)),{uploadWithoutDirectory:!0})))),h=c.map(v=>v.bytecode),g=await n.uploadBatch(h),x=[];if(e.dynamic){let v={command:t,contract_name:l.name,cli_version:Ut,project_type:o,from_ci:e.ci||!1,uses_contract_extensions:p};x.push({name:l.name,metadataUri:l.metadataUri,bytecodeUri:l.bytecodeUri,analytics:v})}else x=c.map((v,S)=>{let P={command:t,contract_name:v.name,cli_version:Ut,project_type:o,from_ci:e.ci||!1,uses_contract_extensions:p};return{name:v.name,metadataUri:m[S],bytecodeUri:g[S],analytics:P}});let w=[];if(x.length===1){let v=await n.upload(x[0],{uploadWithoutDirectory:!0});w.push(v)}else w=await n.uploadBatch(x);return u.succeed("Upload successful"),Dm(w,t)}catch(m){throw u.fail("Error uploading metadata"),new Error(m.message?m.message:m)}}function Dm(e,t){let r;if(e.length===1)r=new URL(Vo+`/contracts/${t}/`+encodeURIComponent(e[0].replace("ipfs://","")));else{r=new URL(Vo+"/contracts/"+t);for(let n of e)r.searchParams.append("ipfs",n.replace("ipfs://",""))}return r}async function Fm(e,t){let r;t?r=new wr.ThirdwebStorage({secretKey:t}):r=new wr.ThirdwebStorage;let n=[],i=[];for(let o of e){let a={name:o.name,metadataURI:await jm(o,r),implementation:br.ethers.constants.AddressZero},s=JSON.parse(o.metadata).output.abi,l=new br.ethers.utils.Interface(s),c=[],f=l.functions;for(let p of Object.keys(f))c.push({functionSelector:l.getSighash(f[p]),functionSignature:p});n.push({metadata:a,functions:c}),i.push({name:o.name,amount:0,salt:br.ethers.utils.keccak256(br.ethers.utils.toUtf8Bytes(o.name)),bytecode:o.bytecode})}return{extensions:n,extensionDeployArgs:i}}async function jm(e,t){return await t.upload(JSON.parse(JSON.stringify(e.metadata)),{uploadWithoutDirectory:!0})}var nf=_(require("inquirer"));var Yl=require("fs"),_r=class{constructor(){this.packageManagerType="npm"}matches(t){return(0,Yl.existsSync)(t+"/package-lock.json")}};var Kl=require("fs"),vr=class{constructor(){this.packageManagerType="yarn"}matches(t){return(0,Kl.existsSync)(t+"/yarn.lock")}};var Xl=require("fs"),Sr=class{constructor(){this.packageManagerType="pnpm"}matches(t){return["/pnpm-lock.yaml","/pnpm-workspace.yaml","/.pnpm"].some(n=>(0,Xl.existsSync)(t+n))}};var Zl=require("fs"),kr=class{constructor(){this.packageManagerType="pip"}matches(t){return(0,Zl.existsSync)(t+"/requirements.txt")}};var Ql=require("fs"),Er=class{constructor(){this.packageManagerType="pipenv"}matches(t){return["/Pipfile","/Pipfile.lock"].some(n=>(0,Ql.existsSync)(t+n))}};var ef=require("fs"),Tr=class{constructor(){this.packageManagerType="poetry"}matches(t){return["/pyproject.toml","/poetry.lock"].some(n=>(0,ef.existsSync)(t+n))}};var zo=require("fs"),Cr=class{constructor(){this.packageManagerType="brownie"}matches(t){let n=["/brownie-config.yaml","/brownie-config.json"].some(a=>(0,zo.existsSync)(t+a)),o=["/build","/contracts","/reports"].every(a=>(0,zo.existsSync)(t+a));return n||o||!1}};var tf=require("fs"),Pr=class{constructor(){this.packageManagerType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(i=>(0,tf.existsSync)(t+i))||!1}};var rf=require("fs"),Rr=class{constructor(){this.packageManagerType="go-modules"}matches(t){return(0,rf.existsSync)(t+"/go.mod")}};async function ft(e,t){let n=[new _r,new vr,new Sr,new kr,new Er,new Tr,new Rr,new Cr,new Pr].filter(o=>o.matches(e)).map(o=>o.packageManagerType);if(!n.length)return"none";if(n.length===1)return n[0];if(n.includes("brownie")&&n.includes("pip"))return"brownie";M(`Detected multiple possible package managers: ${n.map(o=>`"${o}"`).join(", ")}`);let i="We detected multiple possible package managers, which one do you want to use?";return t.ci?n[0]:(await nf.default.prompt({type:"list",choices:n,name:i}))[i]}var ff=_(require("inquirer"));var Yo=require("fs");var Dr=class{constructor(){this.frameworkType="brownie"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r),a=["/brownie-config.yaml","/brownie-config.json"].some(c=>(0,Yo.existsSync)(t+c)),l=["/build","/contracts","/reports"].every(c=>(0,Yo.existsSync)(t+c));return!!n.find(c=>c.includes("brownie"))||!!i.find(c=>c.includes("brownie"))||a||l||!1}};var pi=require("fs");var Fr=class{constructor(){this.frameworkType="cra"}matches(t){let r=t+"/package.json";if(!(0,pi.existsSync)(r))return!1;let n=(0,pi.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n);return!!i["react-scripts"]||!!o["react-scripts"]||!1}};var of=require("fs");var jr=class{constructor(){this.frameworkType="django"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r),a=["/manage.py"].some(s=>(0,of.existsSync)(t+s));return!!n.find(s=>s.includes("Django"))||!!i.find(s=>s.includes("Django"))||a||!1}};var pt=require("fs");var $r=class{constructor(){this.frameworkType="echo"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,pt.existsSync)(r)&&!(0,pt.existsSync)(n))return!1;if((0,pt.existsSync)(r)){let s=(0,pt.readFileSync)(r,"utf-8"),{dependencies:l}=qe(s);i=["github.com/labstack/echo"].some(f=>l.some(p=>p.name===f))}let o=(0,pt.readFileSync)(n,"utf-8"),a=We(o,"github.com/labstack/echo");return i||a||!1}};var Ar=require("fs");var Or=class{constructor(){this.frameworkType="expo"}matches(t){let r=t+"/package.json";if(!(0,Ar.existsSync)(r))return!1;let n=(0,Ar.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/app.json","/app.config.js"].some(c=>(0,Ar.existsSync)(t+c));return!!i.expo||!!o.expo||s||!1}};var af=require("fs");var Ir=class{constructor(){this.frameworkType="fastapi"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r),a=[].some(s=>(0,af.existsSync)(t+s));return!!n.find(s=>s.includes("fastapi"))||!!i.find(s=>s.includes("fastapi"))||a||!1}};var Mr=require("fs");var Lr=class{constructor(){this.frameworkType="fastify"}matches(t){let r=t+"/package.json";if(!(0,Mr.existsSync)(r))return!1;let n=(0,Mr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=[].some(c=>(0,Mr.existsSync)(t+c));return!!i.fastify||!!o.fastify||s||!1}};var ut=require("fs");var Nr=class{constructor(){this.frameworkType="fiber"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,ut.existsSync)(r)&&!(0,ut.existsSync)(n))return!1;if((0,ut.existsSync)(r)){let s=(0,ut.readFileSync)(r,"utf-8"),{dependencies:l}=qe(s);i=["github.com/gofiber/fiber"].some(f=>l.some(p=>p.name===f))}let o=(0,ut.readFileSync)(n,"utf-8"),a=We(o,"github.com/gofiber/fiber");return i||a||!1}};var sf=require("fs");var Br=class{constructor(){this.frameworkType="flask"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r),a=[].some(s=>(0,sf.existsSync)(t+s));return!!n.find(s=>s.includes("Flask"))||!!i.find(s=>s.includes("Flask"))||a||!1}};var cf=require("fs"),Ur=class{constructor(){this.frameworkType="foundry"}matches(t){return["/foundry.toml","/lib/forge-std/"].some(i=>(0,cf.existsSync)(t+i))||!1}};var qr=require("fs");var Wr=class{constructor(){this.frameworkType="gatsby"}matches(t){let r=t+"/package.json";if(!(0,qr.existsSync)(r))return!1;let n=(0,qr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/gatsby.config.js","/gatsby-config.ts"].some(c=>(0,qr.existsSync)(t+c));return!!i.gatsby||!!o.gatsby||s||!1}};var dt=require("fs");var Gr=class{constructor(){this.frameworkType="gin"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,dt.existsSync)(r)&&!(0,dt.existsSync)(n))return!1;if((0,dt.existsSync)(r)){let s=(0,dt.readFileSync)(r,"utf-8"),{dependencies:l}=qe(s);i=["github.com/gin-gonic/gin"].some(f=>l.some(p=>p.name===f))}let o=(0,dt.readFileSync)(n,"utf-8"),a=We(o,"github.com/gin-gonic/gin");return i||a||!1}};var Jr=require("fs");var Vr=class{constructor(){this.frameworkType="hardhat"}matches(t){let r=t+"/package.json";if(!(0,Jr.existsSync)(r))return!1;let n=(0,Jr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/hardhat.config.js"].some(c=>(0,Jr.existsSync)(t+c));return!!i.hardhat||!!o.hardhat||s||!1}};var Hr=require("fs");var zr=class{constructor(){this.frameworkType="next"}matches(t){let r=t+"/package.json";if(!(0,Hr.existsSync)(r))return!1;let n=(0,Hr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/next.config.js","/next-config.ts"].some(c=>(0,Hr.existsSync)(t+c));return!!i.next||!!o.next||s||!1}};var lf=require("fs");var Yr=class{constructor(){this.frameworkType="populus"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r),a=["/populus.json","/populus.yaml"].some(s=>(0,lf.existsSync)(t+s));return!!n.find(s=>s==="populus")||!!i.find(s=>s==="populus")||a||!1}};var Kr=require("fs");var Xr=class{constructor(){this.frameworkType="react-native-cli"}matches(t){let r=t+"/package.json";if(!(0,Kr.existsSync)(r))return!1;let n=(0,Kr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=[].some(l=>(0,Kr.existsSync)(t+l));return!!i["react-native"]||!!o["react-native"]||s||!1}};var Zr=require("fs");var Qr=class{constructor(){this.frameworkType="remix"}matches(t){let r=t+"/package.json";if(!(0,Zr.existsSync)(r))return!1;let n=(0,Zr.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/remix.config.js","/remix-config.ts"].some(c=>(0,Zr.existsSync)(t+c));return Object.keys(i).concat(Object.keys(o)).filter(c=>c.startsWith("@remix-run/")).length>0||s||!1}};var mt=require("fs");var en=class{constructor(){this.frameworkType="revel"}matches(t){let r=t+"/go.mod",n=t+"/main.go",i=!1;if(!(0,mt.existsSync)(r)&&!(0,mt.existsSync)(n))return!1;if((0,mt.existsSync)(r)){let s=(0,mt.readFileSync)(r,"utf-8"),{dependencies:l}=qe(s);i=["github.com/revel/revel"].some(f=>l.some(p=>p.name===f))}let o=(0,mt.readFileSync)(n,"utf-8"),a=We(o,"github.com/revel/revel");return i||a||!1}};var tn=require("fs");var rn=class{constructor(){this.frameworkType="truffle"}matches(t){let r=t+"/package.json";if(!(0,tn.existsSync)(r))return!1;let n=(0,tn.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/truffle.config.js","/truffle.js"].some(l=>(0,tn.existsSync)(t+l));return!!i.truffle||!!o.truffle||s||!1}};var ui=require("fs");var nn=class{constructor(){this.frameworkType="vite"}matches(t){let r=t+"/package.json";if(!(0,ui.existsSync)(r))return!1;let n=(0,ui.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n);return!!i.vite||!!o.vite||!1}};var on=require("fs");var an=class{constructor(){this.frameworkType="vue"}matches(t){let r=t+"/package.json";if(!(0,on.existsSync)(r))return!1;let n=(0,on.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n),s=["/vue.config.js"].some(l=>(0,on.existsSync)(t+l));return!!i.vue||!!o.vue||s||!1}};var di=require("fs"),sn=class{constructor(){this.frameworkType="zenject"}matches(t){let r=(0,di.existsSync)(t+"/Assets/Zenject"),n=(0,di.existsSync)(t+"/Assets/Zenject/OptionalExtras/Zenject.dll"),i=(0,di.existsSync)(t+"/Assets/Scripts/ProjectContext.cs");return r||n||i||!1}};async function ht(e,t,r){let i=[new Dr,new Fr,new jr,new $r,new Or,new Ir,new Lr,new Nr,new Br,new Ur,new Wr,new Gr,new Vr,new zr,new Yr,new Xr,new Qr,new en,new rn,new an,new nn,new sn].filter(a=>a.matches(e,r)).map(a=>a.frameworkType);if(!i.length)return"none";if(i.length===1)return i[0];if(i.includes("expo")&&i.includes("react-native-cli"))return"expo";M(`Detected multiple possible frameworks: ${i.map(a=>`"${a}"`).join(", ")}`);let o="We detected multiple possible frameworks which one do you want to use?";return t.ci?i[0]:(await ff.default.prompt({type:"list",choices:i,name:o}))[o]}var pf=_(require("inquirer"));var mi=require("fs");var cn=class{constructor(){this.libraryType="express"}matches(t){let r=t+"/package.json";if(!(0,mi.existsSync)(r))return!1;let n=(0,mi.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n);return i.express||o.express||!1}};var Ko=require("fs"),ln=class{constructor(){this.libraryType="playmaker"}matches(t){let r=(0,Ko.existsSync)(t+"/Assets/PlayMaker"),n=(0,Ko.existsSync)(t+"/Editor/PlayMaker.dll");return r||n||!1}};var hi=require("fs");var fn=class{constructor(){this.libraryType="react"}matches(t){let r=t+"/package.json";if(!(0,hi.existsSync)(r))return!1;let n=(0,hi.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n);return i.react||o.react||!1}};var gi=require("fs");var pn=class{constructor(){this.libraryType="react-native"}matches(t){let r=t+"/package.json";if(!(0,gi.existsSync)(r))return!1;let n=(0,gi.readFileSync)(r),{dependencies:i,devDependencies:o}=O(n);return i["react-native"]||o["react-native"]||!1}};var un=class{constructor(){this.libraryType="web3py"}matches(t,r){let{dependencies:n,devDependencies:i}=ae(t,r);return!!n.find(o=>o.includes("web3"))||!!i.find(o=>o.includes("web3"))||!1}};async function dn(e,t,r){let i=[new cn,new fn,new pn,new un,new ln].filter(a=>a.matches(e,r)).map(a=>a.libraryType);if(!i.length)return"none";if(i.length===1)return i[0];if(i.includes("react-native")&&i.includes("react"))return"react-native";M(`Detected multiple possible libraries: ${i.map(a=>`"${a}"`).join(", ")}`);let o="We detected multiple possible libraries which one do you want to use?";return t.ci?i[0]:(await pf.default.prompt({type:"list",choices:i,name:o}))[o]}var gf=_(require("inquirer"));var uf=require("fs"),mn=class{constructor(){this.languageType="javascript"}matches(t){let r=/\.js$/;return(0,uf.readdirSync)(t).some(i=>i.match(r))}};var df=require("fs"),hn=class{constructor(){this.languageType="typescript"}matches(t){let r=/\.ts$/;return(0,df.readdirSync)(t).some(i=>i.match(r))}};var mf=require("fs"),gn=class{constructor(){this.languageType="python"}matches(t){let r=/\.py$/;return(0,mf.readdirSync)(t).some(i=>i.match(r))}};var hf=require("fs"),yn=class{constructor(){this.languageType="go"}matches(t){let r=/\.go$/;return(0,hf.readdirSync)(t).some(i=>i.match(r))}};async function Xo(e,t){let n=[new mn,new hn,new gn,new yn].filter(o=>o.matches(e)).map(o=>o.languageType);if(!n.length)return"none";if(n.length===1)return n[0];if(n.includes("typescript")&&n.includes("javascript"))return"typescript";M(`Detected multiple possible languages: ${n.map(o=>`"${o}"`).join(", ")}`);let i="We detected multiple possible languages which one do you want to use?";return t.ci?n[0]:(await gf.default.prompt({type:"list",choices:n,name:i}))[i]}var yf=_(require("path"));var yi=["brownie","foundry","hardhat","truffle","solc","none"];var bf=require("@thirdweb-dev/sdk");var bi=require("fs");async function wf(e){y.setSettings({minLevel:e.debug?"debug":"info"});let t=process.cwd();e.path&&(y.debug("Overriding project path to "+e.path),t=e.path.startsWith("/")?e.path:yf.default.resolve(`${t}/${e.path}`)),y.debug("Processing project at path "+t);let r=await ft(t,e),n=await Xo(t,e),i=await dn(t,e,r),o=await ht(t,e,r),a=o!=="none"&&yi.includes(o)?"contract":"app",s=a==="contract"?o:"none";if(y.info("Detected package manager: "+r),y.info("Detected library: "+i),y.info("Detected language: "+n),y.info("Detected framework: "+o),y.info("Detected app type: "+a),a==="contract"){let l,c=ne("Compiling project...");try{l=await ct(t,s,e)}catch(u){c.fail("Compilation failed"),y.error(u),process.exit(1)}c.succeed("Compilation successful");let f=[];if(l.contracts.length===1)f=[l.contracts[0]];else if(e.all)f=l.contracts;else{let u=l.contracts.map(g=>({name:g.name,value:g})),h=await Nt(u,"Choose which contracts to run detection on").run();f=Object.keys(h).map(g=>h[g])}f.map(u=>{let m=JSON.parse(u.metadata).output.abi,h=xf((0,bf.detectFeatures)(m)),g=h.enabledFeatures.map(w=>({name:w.name,reference:`https://portal.thirdweb.com/interfaces/${w.name.toLowerCase()}`})),x=h.suggestedFeatures.map(w=>({name:w.name,reference:`https://portal.thirdweb.com/interfaces/${w.name.toLowerCase()}`}));return{name:u.name,enabledFeatures:g,suggestedFeatures:x}}).map(u=>{y.info(`
`),u.enabledFeatures.length===0?$(`No extensions detected on ${d.blueBright(u.name)}`).stopAndPersist({symbol:"\u{1F50E}"}):($(`Detected extension on ${d.blueBright(u.name)}`).stopAndPersist({symbol:"\u{1F50E}"}),u.enabledFeatures.map(h=>{y.info(`\u2714\uFE0F ${d.green(h.name)}`)})),y.info(""),$("Suggested extensions").info(),u.suggestedFeatures.map(h=>{y.info(`${d.dim(d.gray("-"))} ${d.gray(h.name)} - ${d.dim(d.gray(h.reference))}`)});let m="npx thirdweb@latest deploy";if((0,bi.existsSync)(t+"/package.json")){let h=Bt(),g=h==="yarn";JSON.parse((0,bi.readFileSync)(t+"/package.json","utf-8"))?.scripts?.deploy===m&&(m=`${h}${g?"":" run"} deploy`)}y.info(""),$("Once you're done writing your contracts, you can run the following command to deploy them:").info(),y.info(""),y.info(`     ${d.cyan(m)}`),y.info("")})}}function xf(e,t=[],r=[],n="__ROOT__"){if(!e)return{enabledFeatures:t,suggestedFeatures:r};for(let i in e){let o=e[i];o.enabled?t.push(o):(t.findIndex(a=>a.name===n)>-1||ti.includes(o.name))&&r.push(o),xf(o.features,t,r,o.name)}return{enabledFeatures:t,suggestedFeatures:r}}var _f="2.7.6";function vf(){return new Promise(async(e,t)=>{try{await V("ruby",["-v"],!1,r=>{let i=String(r).split(" ")[1];i.includes(_f)?e():(console.log(),console.error(`Your current ruby version: ${d.red(`"${i}"`)}, is not supported by this project.`),console.error(`Please, set your ruby version to ${d.green(`"${_f}"`)} and try again.`),console.error("For more information, please visit the React Native documentation: https://reactnative.dev/docs/environment-setup#ruby"),console.log(),process.exit(1))})}catch(r){t(r)}})}var Sf=_(require("got")),kf=async e=>{try{return(await Sf.default.get(`https://raw.githubusercontent.com/thirdweb-example/${e}/main/package.json`).json())?.scripts?.dev?"dev":"start"}catch{return}};var He=require("child_process"),Ef=_(require("path")),Tf=_(require("rimraf"));function $m(){try{return(0,He.execSync)("git rev-parse --is-inside-work-tree",{stdio:"ignore"}),!0}catch{}return!1}function Am(){try{return(0,He.execSync)("hg --cwd . root",{stdio:"ignore"}),!0}catch{}return!1}function wi(e){let t=!1;try{return(0,He.execSync)("git --version",{stdio:"ignore"}),$m()||Am()?!1:((0,He.execSync)("git init",{stdio:"ignore"}),t=!0,(0,He.execSync)("git checkout -b main",{stdio:"ignore"}),(0,He.execSync)("git add -A",{stdio:"ignore"}),(0,He.execSync)('git commit -m "Initial commit from npx thirdweb create"',{stdio:"ignore"}),!0)}catch{if(t)try{Tf.default.sync(Ef.default.join(e,".git"))}catch{}return!1}}var Cf=_(Mo());function bn(e,t,{packageManager:r,isOnline:n,devDependencies:i}){let o=[],a=[];return new Promise((s,l)=>{let c,f=r,p=r==="yarn";t&&t.length?p?(c=["add","--exact"],n||c.push("--offline"),c.push("--cwd",e),i&&c.push("--dev"),c.push(...t)):(c=["install","--save-exact"],c.push(i?"--save-dev":"--save"),c.push(...t)):(c=["install"],n||(console.log(d.yellow("You appear to be offline.")),p?(console.log(d.yellow("Falling back to the local Yarn cache.")),console.log(),c.push("--offline")):console.log())),p?c.push(...a):c.push(...o),(0,Cf.default)(f,c,{stdio:"inherit",env:{...process.env,ADBLOCK:"1",DISABLE_OPENCOLLECTIVE:"1"}}).on("close",m=>{if(m!==0){l({command:`${f} ${c.join(" ")}`});return}s()})})}var Zo=_(require("fs")),Pf=_(require("path"));function xi(e,t){let r=[".DS_Store",".git",".gitattributes",".gitignore",".gitlab-ci.yml",".hg",".hgcheck",".hgignore",".idea",".npmignore",".travis.yml","LICENSE","Thumbs.db","docs","mkdocs.yml","npm-debug.log","yarn-debug.log","yarn-error.log"],n=Zo.default.readdirSync(e).filter(i=>!r.includes(i)).filter(i=>!/\.iml$/.test(i));if(n.length>0){console.log(`The directory ${d.green(t)} contains files that could conflict:`),console.log();for(let i of n)try{Zo.default.lstatSync(Pf.default.join(e,i)).isDirectory()?console.log(`  ${d.blue(i)}/`):console.log(`  ${i}`)}catch{console.log(`  ${i}`)}return console.log(),console.log("Either try using a new directory name, or remove the files listed above."),console.log(),!1}return!0}var Rf=require("child_process"),Qo=_(require("dns")),Df=_(require("url"));function Om(){if(process.env.https_proxy)return process.env.https_proxy;try{let e=(0,Rf.execSync)("npm config get https-proxy").toString().trim();return e!=="null"?e:void 0}catch{return}}function _i(){return new Promise(e=>{Qo.default.lookup("registry.yarnpkg.com",t=>{if(!t)return e(!0);let r=Om();if(!r)return e(!1);let{hostname:n}=Df.default.parse(r);if(!n)return e(!1);Qo.default.lookup(n,i=>{e(i===null)})})})}var vi=_(require("fs"));async function Si(e){try{return await vi.default.promises.access(e,(vi.default.constants||vi.default).W_OK),!0}catch{return!1}}var Ff=_(require("fs"));function ki(e,t={recursive:!0}){return Ff.default.promises.mkdir(e,t)}var jf=_(require("path"));function $f(e,t){return new Promise(async(r,n)=>{t||(console.log(d.yellow("You appear to be offline.")),console.log(),n());try{await V("bundle",["install"],!0)}catch(i){n(i)}console.log("Running pod install...");try{process.chdir(jf.default.join(e,"ios")),await V("pod",["install"],!0),process.chdir(e),r()}catch(i){process.chdir(e),n(i)}})}var ea=_(require("got")),Af=require("stream"),Of=_(require("tar")),If=require("util"),Im=(0,If.promisify)(Af.Stream.pipeline);async function Mm(e){return(await ea.default.head(e).catch(r=>r)).statusCode===200}function ta(e){return Mm(`https://api.github.com/repos/thirdweb-example/${encodeURIComponent(e)}`)}function wn(e,{name:t,filePath:r}){return Im(ea.default.stream(`https://codeload.github.com/thirdweb-example/${t}/tar.gz/main`),Of.default.extract({cwd:e,strip:r?r.split("/").length+1:1},[`${t}-main${r?`/${r}`:""}`]))}var ra=_(require("async-retry"));var xn=_(require("fs")),na=_(require("os")),gt=_(require("path")),ze=class extends Error{};async function Mf({appPath:e,packageManager:t,framework:r,language:n,template:i}){let o="";i?await ta(i)||(console.error(`Could not locate the repository for ${d.red(`"${i}"`)}. Please check that the repository exists and try again.`),process.exit(1)):r&&(o=`${r}-${n||"javascript"}-starter`,await ta(o)||(console.error(`Something went wrong with the ${d.red(`"${r}"`)} framework. Please try again.`),process.exit(1)));let a=i?.includes("react-native")||r==="react-native";function s(){return a&&(n==="typescript"||i&&!i.includes("expo"))}function l(){return process.platform==="darwin"}s()&&l()&&await vf();let c=gt.default.resolve(e);await Si(gt.default.dirname(c))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1));let f=gt.default.basename(c);await ki(c),xi(c,f)||process.exit(1);let p=t==="yarn",u=!p||await _i(),m=process.cwd();console.log(`Creating a new thirdweb app in ${d.green(c)}.`),console.log(),process.chdir(c);function h(w){return typeof w=="object"&&w!==null&&typeof w.message=="string"}if(i){try{console.log(`Downloading files from repo ${d.cyan(i)}. This might take a moment.`),console.log(),await(0,ra.default)(()=>wn(c,{name:i,filePath:""}),{retries:3})}catch(S){throw new ze(h(S)?S.message:String(S))}let w=gt.default.join(c,"package.json"),v=xn.default.readFileSync(w);try{let S=JSON.parse(v.toString());S&&(S.name=f),xn.default.writeFileSync(w,JSON.stringify(S,null,2)+na.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await bn(c,null,{packageManager:t,isOnline:u}),console.log()}else if(r){try{console.log(`Downloading files with framework ${d.cyan(r)}. This might take a moment.`),await(0,ra.default)(()=>wn(c,{name:o,filePath:""}),{retries:3})}catch(w){throw new ze(h(w)?w.message:String(w))}try{let w=gt.default.join(c,"package.json"),v=xn.default.readFileSync(w),S=JSON.parse(v.toString());S&&(S.name=f),xn.default.writeFileSync(w,JSON.stringify(S,null,2)+na.default.EOL)}catch{console.log("Failed to re-name package.json, continuing..."),console.log()}console.log("Installing packages. This might take a couple of minutes."),console.log(),await bn(c,null,{packageManager:t,isOnline:u}),console.log()}s()&&l()&&await $f(c,u),wi(c)&&(console.log("Initialized a git repository."),console.log());let g;gt.default.join(m,f)===e?g=f:g=e;let x;r&&(r.includes("next")||r.includes("vite"))?x="dev":i&&(x=await kf(i)),console.log(`${d.green("Success!")} Created ${f} at ${e}`),console.log("Inside that directory, you can run several commands:"),console.log(),a?(console.log(d.cyan(`  ${t}${p||x==="start"?"":"run "} android`)),console.log("    Runs your app on an Android emulator or device."),console.log(),console.log(d.cyan(`  ${t}${p||x==="start"?"":"run "} ios`)),console.log("    Runs your app on an iOS emulator or device."),console.log()):x&&(console.log(d.cyan(`  ${t} ${p||x==="start"?"":"run "}${x}`)),console.log("    Starts the development server."),console.log(),console.log(d.cyan(`  ${t} ${p||x==="start"?"":"run "}build`)),console.log("    Builds the app for production."),console.log()),console.log("We suggest that you begin by typing:"),console.log(),console.log(d.cyan("  cd"),g),x&&!a&&console.log(`  ${d.cyan(`${t} ${p||x==="start"?"":"run "}${x}`)}`),console.log()}var Lm={ERC721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Base.sol";

contract Contract is ERC721Base {

      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC721Base(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,ERC721SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721SignatureMint.sol";

contract Contract is ERC721SignatureMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC721LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721LazyMint.sol";

contract Contract is ERC721LazyMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721LazyMint(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721DelayedReveal.sol";

contract Contract is ERC721DelayedReveal {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC721DelayedReveal(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC721Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC721Drop.sol";

contract Contract is ERC721Drop {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC721Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Base.sol";

contract Contract is ERC1155Base {

      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    )
        ERC1155Base(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps
        )
    {}

}`,Staking721Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking721Base.sol";

contract Contract is Staking721Base {
      constructor(
        address _defaultAdmin,
        uint256 _timeUnit,
        uint256 _rewardsPerUnitTime,
        address _nftCollection,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking721Base(
            _defaultAdmin,
            _timeUnit,
            _rewardsPerUnitTime,
            _nftCollection,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC1155SignatureMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155SignatureMint.sol";

contract Contract is ERC1155SignatureMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,ERC1155LazyMint:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155LazyMint.sol";

contract Contract is ERC1155LazyMint {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155LazyMint(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155DelayedReveal:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155DelayedReveal.sol";

contract Contract is ERC1155DelayedReveal {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps
    ) ERC1155DelayedReveal(_defaultAdmin, _name, _symbol, _royaltyRecipient, _royaltyBps) {}
}`,ERC1155Drop:`// SPDX-License-Identifier: Apache-2.0
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC1155Drop.sol";

contract Contract is ERC1155Drop {
    constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _royaltyRecipient,
        uint128 _royaltyBps,
        address _primarySaleRecipient
    )
        ERC1155Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _royaltyRecipient,
            _royaltyBps,
            _primarySaleRecipient
        )
    {}
}`,Staking1155Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking1155Base.sol";

contract Contract is Staking1155Base {
      constructor(
        address _defaultAdmin,
        uint256 _defaultTimeUnit,
        uint256 _defaultRewardsPerUnitTime,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking1155Base(
            _defaultAdmin,
            _defaultTimeUnit,
            _defaultRewardsPerUnitTime,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`,ERC20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Base.sol";

contract Contract is ERC20Base {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol
    )
        ERC20Base(
            _defaultAdmin,
            _name,
            _symbol
        )
    {}
}`,ERC20Vote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Vote.sol";

contract Contract is ERC20Vote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol
    )
        ERC20Vote(
            _defaultAdmin,
            _name,
            _symbol
        )
    {}
}`,ERC20SignatureMint:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMint.sol";

contract Contract is ERC20SignatureMint {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMint(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20SignatureMintVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20SignatureMintVote.sol";

contract Contract is ERC20SignatureMintVote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20SignatureMintVote(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20Drop:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20Drop.sol";

contract Contract is ERC20Drop {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20Drop(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,ERC20DropVote:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/ERC20DropVote.sol";

contract Contract is ERC20DropVote {
      constructor(
        address _defaultAdmin,
        string memory _name,
        string memory _symbol,
        address _primarySaleRecipient
    )
        ERC20DropVote(
            _defaultAdmin,
            _name,
            _symbol,
            _primarySaleRecipient
        )
    {}
}`,Staking20Base:`// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "@thirdweb-dev/contracts/base/Staking20Base.sol";

contract Contract is Staking20Base {
      constructor(
        address _defaultAdmin,
        uint256 _timeUnit,
        uint256 _rewardRatioNumerator,
        uint256 _rewardRatioDenominator,
        address _stakingToken,
        address _rewardToken,
        address _nativeTokenWrapper
    )
        Staking20Base(
            _defaultAdmin,
            _timeUnit,
            _rewardRatioNumerator,
            _rewardRatioDenominator,
            _stakingToken,
            _rewardToken,
            _nativeTokenWrapper
        )
    {}
}`},ia=Lm;function Lf(e){return ia[e]!==void 0}function oa(e){return ia[e]}function aa(e){let t=Nm(e).toUpperCase(),r=Bm(e);return`// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

library ${e}Storage {
  bytes32 public constant ${t}_STORAGE_POSITION = keccak256("${r}.storage");

  // Define your contract's state inside the Data struct.
  struct Data {
    // Example: a uint called "number"
    uint256 number;
  }

  /**
    *  Access your state variables using the following pattern (example):
    *  ${e}Storage.Data storage data = ${e}Storage.getStorage();
  **/
  function getStorage() internal pure returns (Data storage data) {
    bytes32 position = ${t}_STORAGE_POSITION;
    assembly {
      data.slot := position
    }
  }
}
  
contract ${e} {

  function readContractState() external view returns (uint256) {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    return data.number;
  }

  function writeContractState(uint256 x) external {
    ${e}Storage.Data storage data = ${e}Storage.getStorage();
    data.number = x;
  }
}`}function Nf(e,t){return e.replace(/(.)([A-Z][a-z]+)/,`$1${t}$2`).replace(/([a-z0-9])([A-Z])/,`$1${t}$2`).toLowerCase()}function Nm(e){return Nf(e,"_")}function Bm(e){return Nf(e,".")}var qt=require("fs/promises");async function Bf(){await(0,qt.rm)("script",{recursive:!0,force:!0}),await(0,qt.rm)(".gitmodules",{recursive:!0,force:!0}),await(0,qt.rm)("lib",{recursive:!0,force:!0}),await(0,qt.writeFile)(".gitmodules",""),await V("git",["submodule","add","https://github.com/foundry-rs/forge-std.git","lib/forge-std"]),await V("git",["submodule","update","--init","--recursive"])}var Uf=_(require("async-retry"));var Wt=_(require("fs")),_n=require("fs/promises"),ee=_(require("path"));function Um(e){return typeof e=="object"&&e!==null&&typeof e.message=="string"}async function qf({contractPath:e,packageManager:t,framework:r,contractName:n,baseContract:i,onlyContract:o,createExtension:a}){i&&(Lf(i)||(console.error(`Could not locate the base contract for ${d.red(`"${i}"`)}. Please check that the base contract exists and try again.`),process.exit(1)));let s=ee.default.resolve(e);await Si(ee.default.dirname(s))||(console.error("The application path is not writable, please check folder permissions and try again."),console.error("It is likely you do not have write permissions for this folder."),process.exit(1)),/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(n)||(console.error(`Contract name ${d.red(`"${n}"`)} is not valid (only alphanumeric characters are allowed).`),process.exit(1));let l=n.replace(/\.sol$/,"");n=l+".sol";let c=t==="yarn";if(o){if(Wt.default.existsSync(ee.default.join(s,n))&&(console.error(`A contract with the name ${d.red(`"${n}"`)} already exists in specified directory.`),process.exit(1)),i&&i.length>0){let f=oa(i),p="";p=ee.default.join(s,n),await(0,_n.writeFile)(p,f),console.log(`${d.green("Success!")} Created ${n} at ${e}`)}if(!i&&a){let f=aa(l),p="";p=ee.default.join(s,n),await(0,_n.writeFile)(p,f),console.log(`${d.green("Success!")} Created your ${n} extension at ${e}`)}}else{let f=ee.default.basename(s);await ki(s),xi(s,f)||process.exit(1);let p=!c||await _i(),u=process.cwd();console.log(`Creating a new thirdweb contracts project in ${d.green(s)}.`),console.log(),process.chdir(s);try{console.log("Downloading files. This might take a moment.");let h="";if(r==="hardhat"?h="hardhat-javascript-starter":r==="forge"?h="forge-starter":(console.error("Please provide a valid contracts framework."),process.exit(1)),await(0,Uf.default)(()=>wn(s,{name:h,filePath:""}),{retries:3}),i&&i.length>0){let g=oa(i).replace("contract Contract",`contract ${n.replace(".sol","")}`),x="";r==="hardhat"&&(Wt.default.unlinkSync(ee.default.join(s,"contracts","Contract.sol")),x=ee.default.join(s,"contracts",n)),r==="forge"&&(Wt.default.unlinkSync(ee.default.join(s,"src","Contract.sol")),x=ee.default.join(s,"src",n)),await(0,_n.writeFile)(x,g)}if(!i&&a){let g=aa(l),x="";x=ee.default.join(s,n),r==="hardhat"&&(Wt.default.unlinkSync(ee.default.join(s,"contracts","Contract.sol")),x=ee.default.join(s,"contracts",n)),r==="forge"&&(Wt.default.unlinkSync(ee.default.join(s,"src","Contract.sol")),x=ee.default.join(s,"src",n)),await(0,_n.writeFile)(x,g)}}catch(h){throw new ze(Um(h)?h.message:String(h))}console.log("Installing packages. This might take a couple of minutes."),console.log(),await bn(s,null,{packageManager:t,isOnline:p}),console.log(),wi(s)&&(console.log("Initialized a git repository."),console.log()),r==="forge"&&await Bf();let m;ee.default.join(u,f)===e?m=f:m=e,console.log(`${d.green("Success!")} Created ${f} at ${e}`),console.log(),console.log("Inside that directory, you can run several commands:"),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} build`)),console.log("    Compiles your contracts and detects thirdweb extensions implemented on them."),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} deploy`)),console.log("    Deploys your contracts with the thirdweb deploy flow."),console.log(),console.log(d.cyan(`  ${t}${c?"":" run"} publish`)),console.log("    Publishes your contracts with the thirdweb publish flow."),console.log(),console.log("We suggest that you begin by typing:"),console.log(),console.log(d.cyan("  cd"),m),console.log(),r==="forge"&&(await ni()||console.log(`
${d.yellowBright("warning")} You don't have forge installed on this machine, and will need it to run this project! 

You can install forge by following these instructions:
${d.blueBright("https://book.getfoundry.sh/getting-started/installation")}
`))}}var Wf=_(require("validate-npm-package-name"));function sa(e){let t=(0,Wf.default)(e);return t.validForNewPackages?{valid:!0}:{valid:!1,problems:[...t.errors||[],...t.warnings||[]]}}var Gt=_(require("fs")),se=_(require("path")),Re=_(require("prompts")),vn="",K="",A="",I="",re="",Ei="",ca="",la=!1;async function Gf(e,t="",r){if(typeof t=="string"&&(K=t),typeof r.contractName=="string"&&(vn=r.contractName),e==="app"||r.app?A="app":e==="contract"||r.contract?A="contract":(e==="extension"||r.extension)&&(A="extension"),!A&&Object.keys(r).length>0&&(r.react&&(A="app",re="typescript",I="cra"),r.next&&(A="app",re="typescript",I="next"),r.vite&&(A="app",re="typescript",I="vite"),r.node&&(A="app",re="typescript",I="node"),r.express&&(A="app",re="typescript",I="express"),r.pwaVite&&(A="app",re="typescript",I="pwa-vite"),r.reactNative&&(A="app",re="typescript",I="react-native")),A==="app"&&(r.typescript&&(re="typescript"),r.javascript&&(re="javascript"),r.next&&(I="next"),r.react&&(I="cra"),r.vite&&(I="vite"),r.node&&(I="node"),r.express&&(I="express"),r.reactNative&&(I="react-native"),r.pwaVite&&(I="pwa-vite"),r.evm&&(ca="evm")),A==="contract"&&(r.forge&&(I="forge"),r.hardhat&&(I="hardhat")),r.framework&&(I=r.framework),!A&&!r.template){let c=await(0,Re.default)({type:"select",name:"projectType",message:_e.typeOfProject,choices:[{title:"App",value:"app"},{title:"Contract",value:"contract"},{title:"Dynamic Contract Extension",value:"extension"}]});typeof c.projectType=="string"&&(A=c.projectType.trim())}else(!A||r.template)&&(A="app");A==="extension"&&(la=!0,r.forge&&(I="forge"),r.hardhat&&(I="hardhat"));let n=!1;if(A==="contract"||A==="extension"){let c=se.default.resolve(K),f=await lt(c,{});if(f==="foundry"&&Gt.default.existsSync(se.default.join(c,"src")))n=!0,K=se.default.join(K,"src");else if(f==="hardhat")if(Gt.default.existsSync(se.default.join(c,"contracts")))n=!0,K=se.default.join(K,"contracts");else{let p=Gt.default.readdirSync(c).filter(u=>Gt.default.lstatSync(se.default.join(c,u)).isDirectory());for(let u of p)if(Gt.default.readdirSync(se.default.join(K,u)).some(h=>h.endsWith(".sol"))){n=!0,K=se.default.join(K,u);break}}}if(!n){if(!K){let c=A==="contract"||A==="extension"?"thirdweb-contracts":"thirdweb-app",f=await(0,Re.default)({type:"text",name:"path",message:_e.projectName,initial:r.template||c,format:p=>p.toLowerCase(),validate:p=>{let u=sa(se.default.basename(se.default.resolve(p.toLowerCase())));return u.valid||"Invalid project name: "+u.problems?.[0]}});typeof f.path=="string"&&(K=se.default.join(K,f.path.trim()))}if(K||(console.log(`
Please specify the project directory:
  ${d.cyan("npx thirdweb create")} ${d.green("<project-directory>")}
For example:
  ${d.cyan("npx thirdweb create")} ${d.green("my-thirdweb-app")}

Run ${d.cyan("npx thirdweb --help")} to see all options.`),process.exit(1)),!r.template){if(A==="app"&&!ca&&(ca="evm"),A==="app"&&!I){let c=await(0,Re.default)({type:"select",name:"framework",message:_e.framework,choices:[{title:"Next.js",value:"next"},{title:"Create React App",value:"cra"},{title:"Vite",value:"vite"},{title:"PWA Vite",value:"pwa-vite"},{title:"React Native",value:"react-native"},{title:"Node.js",value:"node"},{title:"Express",value:"express"}]});typeof c.framework=="string"&&(I=c.framework.trim())}if(A==="app"&&!re)if(I==="react-native"){let c=await(0,Re.default)({type:"select",name:"project",message:_e.reactNative,choices:[{title:"Expo Project",value:"expo"},{title:"React Native CLI",value:"typescript"}]});typeof c.project=="string"&&(re=c.project.trim())}else if(I==="pwa-vite"||I==="pwa-next")re="typescript";else{let c=await(0,Re.default)({type:"select",name:"language",message:_e.language,choices:[{title:"JavaScript",value:"javascript"},{title:"TypeScript",value:"typescript"}]});typeof c.language=="string"&&(re=c.language.trim())}if((A==="contract"||A==="extension")&&I!=="forge"&&I!=="hardhat"){let c=await(0,Re.default)({type:"select",name:"framework",message:_e.framework,choices:[{title:"Hardhat",value:"hardhat"},{title:"Forge",value:"forge"}]});typeof c.framework=="string"&&(I=c.framework.trim())}I||(console.log("Please specify a framework"),process.exit(1)),re||(re="javascript")}}if(A==="contract"||A==="extension"){if(!vn){let c="MyContract",f=await(0,Re.default)({type:"text",name:"path",message:A==="extension"?_e.extensionName:_e.contractName,initial:c,validate:p=>/(^[a-z0-9A-Z]+$)|(^[a-z0-9A-Z]+\.sol$)/.test(p)?!0:"Invalid contract name 'contractName' (only alphanumeric characters allowed)"});typeof f.path=="string"&&(vn=f.path.trim()),vn||(console.log(`
Please specify the contract name:
  ${d.cyan("npx thirdweb create --contract --name")} ${d.green("<contract-name>")}
For example:
  ${d.cyan("npx thirdweb create --contract --name")} ${d.green("MyContract")}

Run ${d.cyan("npx thirdweb --help")} to see all options.`),process.exit(1))}if(A==="contract"&&!Ei&&!la){let c="none",f=await(0,Re.default)({type:"select",name:"standard",message:_e.contract,choices:[...n?[]:[{title:"Empty Contract",value:"none"}],{title:"ERC721",value:"erc721"},{title:"ERC20",value:"erc20"},{title:"ERC1155",value:"erc1155"}]});if(typeof f.standard=="string"&&(c=f.standard.trim()),c==="none")Ei="";else{let p=[];c==="erc721"?p=[{title:"None",value:"ERC721Base"},{title:"Signature Mint",value:"ERC721SignatureMint"},{title:"Lazy Mint",value:"ERC721LazyMint"},{title:"Delayed Reveal",value:"ERC721DelayedReveal"},{title:"Drop",value:"ERC721Drop"}]:c==="erc20"?p=[{title:"None",value:"ERC20Base"},{title:"Vote",value:"ERC20Vote"},{title:"Signature Mint",value:"ERC20SignatureMint"},{title:"Vote + Signature Mint",value:"ERC20SignatureMintVote"},{title:"Drop",value:"ERC20Drop"},{title:"Vote + Drop",value:"ERC20DropVote"}]:c==="erc1155"&&(p=[{title:"None",value:"ERC1155Base"},{title:"Signature Mint",value:"ERC1155SignatureMint"},{title:"Lazy Mint",value:"ERC1155LazyMint"},{title:"Delayed Reveal",value:"ERC1155DelayedReveal"},{title:"Drop",value:"ERC1155Drop"}]);let u=await(0,Re.default)({type:"select",name:"baseContract",message:_e.extensions,choices:p});typeof u.baseContract=="string"&&(Ei=u.baseContract.trim())}}}K=se.default.resolve(K);let i=se.default.basename(K),{valid:o,problems:a}=sa(i);o||(console.error(`Could not create a project called ${d.red(`"${i}"`)} because of npm naming restrictions:`),a?.forEach(c=>console.error(`    ${d.red.bold("*")} ${c}`)),process.exit(1)),r.template===!0&&(console.error("Please provide an template name, otherwise remove the template option. Checkout some templates you can use here: https://github.com/thirdweb-example/"),process.exit(1));let s=r.useNpm?"npm":r.usePnpm?"pnpm":Bt(),l=typeof r.template=="string"?r.template.trim():void 0;try{A==="app"?await Mf({appPath:K,packageManager:s,framework:I,language:re,template:l}):await qf({contractPath:K,packageManager:s,framework:I,contractName:vn,baseContract:Ei,onlyContract:n,createExtension:la})}catch(c){if(!(c instanceof ze))throw c}}function fa(e,t){let r=e.split("/");if(r.length>1)return`https://thirdweb.com/dashboard/${r[0]}/${r[1]}${t?`/${t}`:""}`;{let i={"signature-drop":"SignatureDrop","nft-drop":"DropERC721","edition-drop":"DropERC1155","nft-collection":"TokenERC721",edition:"TokenERC1155","token-drop":"DropERC20",token:"TokenERC20",marketplace:"Marketplace",split:"Split",vote:"VoteERC20",pack:"Pack",multiwrap:"Multiwrap"}[e];return i?`https://thirdweb.com/thirdweb.eth/${i}`:void 0}}var pa=require("@thirdweb-dev/storage");var yt=_(require("fs")),Ti=_(require("path"));function Jf(e,t){let r=[],n=yt.default.lstatSync(e);if(n.isFile()){let i=Ti.default.relative(t,e),o=yt.default.readFileSync(e);r.push({name:i,data:o})}else n.isDirectory()&&yt.default.readdirSync(e).forEach(o=>{let a=Ti.default.join(e,o);Jf(a,t).forEach(l=>r.push(l))});return r}async function Ci(e,t){if(!t)return Promise.reject("No path provided");if(!yt.default.existsSync(t))return Promise.reject("Invalid path provided");let n="",i=yt.default.lstatSync(t);if(i.isDirectory()){let o=Jf(t,t);if(o.length===0)return Promise.reject("No files detected in specified directory");let a=ne("Uploading directory to IPFS. This may take a while depending on file sizes.");try{let s=await e.uploadBatch(o);a.succeed("Successfully uploaded directory to IPFS"),n=s[0].substring(0,s[0].lastIndexOf("/"))}catch(s){return a.fail("Failed to upload directory to IPFS."),Promise.reject(s)}}else if(i.isFile()){let o=Ti.default.parse(t).base,a=yt.default.readFileSync(t),s={name:o,data:a},l=ne("Uploading file to IPFS. This may take a while depending on file sizes.");try{n=await e.upload(s,{uploadWithoutDirectory:!0})}catch(c){return l.fail("Failed to upload file to IPFS."),Promise.reject(c.message?c.message:c)}l.succeed("Successfully uploaded file to IPFS.")}else return Promise.reject("Invalid path provided");return n}async function Vf(e="dist",t=".",r){let n;r?n=new pa.ThirdwebStorage({secretKey:r}):n=new pa.ThirdwebStorage;let i=await ft(t,{}),o=await ht(t,{},i);if(o==="none")throw new Error("No supported project detected");switch(o){case"next":e="out";break;case"cra":e="build";break;default:break}y.info(`Detected project type: ${o}`),y.info(`Detected package manager: ${i}`),y.info(`distPath: ${e}`),y.info(`projectPath: ${t}`);try{switch(i){case"yarn":await V("yarn",["build"],!0),o==="next"&&await V("yarn",["next","export"],!0);break;case"npm":await V("npm",["run","build"],!0),o==="next"&&await V("npx",["next","export"],!0);break;case"pnpm":await V("pnpm",["build"],!0),o==="next"&&await V("pnpm",["next","export"],!0);break;default:throw new Error("No supported package manager detected")}}catch{return console.error("Can't build project"),Promise.reject("Can't build project")}try{return`${(await Ci(n,e)).replace("ipfs://","https://cf-ipfs.com/ipfs/")}`}catch(a){return console.error(a.message?a.message:a),Promise.reject("Can't upload project")}}async function Hf(e,t){if(e.name){let n=fa(e.name,e.contractVersion);if(!n){y.error(d.red(`Could not find a contract named ${e.name} ${e.contractVersion||""}`));return}return M(`Open this link to deploy your contract: ${d.blueBright(n)}`),n.toString()}if(e.app)try{let n=await Vf(e.distPath,e.path,t);return M(`Here is the link to your app: ${d.blueBright(n.toString())}`),n.toString()}catch(n){return y.error("Failed to deploy app, No compatible project found",n),Promise.reject("failed to deploy app, no compatible project found")}let r=await fi(e,"deploy",t);return M(`Open this link to deploy your contracts: ${d.blueBright(r.toString())}`),r.toString()}var Xf=require("@thirdweb-dev/chains"),Pi=require("@thirdweb-dev/sdk"),ma=require("@thirdweb-dev/storage"),ie=_(require("fs"));var Zf=_(require("prompts"));var zf=require("@thirdweb-dev/sdk"),Yf=_(require("prompts")),ua=require("@thirdweb-dev/chains"),Kf=ua.allChains.map(e=>({title:e.slug}));async function da(e,t,r){let n=[];await Promise.all(e.map(async i=>{let o=[];if(await Promise.all(t.map(async a=>{let s=(0,zf.getChainProvider)(a,{});try{let l=await s.getCode(i);if(!l||l==="0x")return;o.push(a)}catch{return}})),!!o.length){if(o.length===1){r.push({address:i,chainId:o[0]});return}n.push({address:i,chains:o.map(a=>({slug:ua.allChains[a].slug,chainId:a}))})}}));for(let i of n){let o=await(0,Yf.default)({type:"select",name:"chainId",message:`What chain is smart contract '${i.address}' on?`,choices:i.chains.map(a=>({title:a.slug,value:a.chainId}))});r.push({address:i.address,chainId:o.chainId})}}async function Qf(e,t){let r=e.path?.replace(/\/$/,"")||".",n=[],i=[];if(Bo(r,/(0x[a-fA-F0-9]{40})/g,i),ie.default.existsSync(`${r}/thirdweb.json`)){let u=JSON.parse(ie.default.readFileSync(`${r}/thirdweb.json`,"utf-8")),m=u.contracts.map(g=>g.address.toLowerCase()),h=Array.from(new Set(i)).filter(g=>!m.includes(g.toLowerCase()));if(n=[...u.contracts],h.length){let g=u.chainIds;if(await da(h,g,n),n.length>u.contracts.length){ie.default.writeFileSync(`${r}/thirdweb.json`,JSON.stringify({chainIds:g,contracts:n},void 0,2));let x=n.length-u.contracts.length;M(`Updated thirdweb.json with ${x} new contract${x===1?"":"s"}`)}}}else{let m=(await(0,Zf.default)({type:"autocompleteMultiselect",name:"chains",message:Al.chains,choices:Kf})).chains.map(h=>Xf.allChains[h].chainId);await da(i,m,n),ie.default.writeFileSync(`${r}/thirdweb.json`,JSON.stringify({chainIds:m,contracts:n},void 0,2)),M(`Created a thirdweb.json file with configuration for ${n.length} contract${n.length===1?"":"s"} detected in your project.

 - You can also update this configuration manually by editing the file.
`)}$("Downloading ABIs for contracts configured in 'thirdweb.json'").info();let o;t?o=new ma.ThirdwebStorage({secretKey:t}):o=new ma.ThirdwebStorage;let a=[];await Promise.all(n.map(async u=>{let m=(0,Pi.getChainProvider)(u.chainId,{}),h;try{h=await(0,Pi.fetchContractMetadataFromAddress)(u.address,m,o)}catch{$(`Unable to download ABI for contract ${u.address}, skipping.`).warn();return}a.push({address:u.address,metadata:h})}));let s=`${r}/node_modules/@thirdweb-dev/generated-abis/dist`;ie.default.existsSync(s)||($("Unable to cache ABIs. Please ensure that you have the latest @thirdweb-dev/sdk package installed.").fail(),process.exit(1)),[`${s}/thirdweb-dev-generated-abis.cjs.js`,`${s}/thirdweb-dev-generated-abis.esm.js`].forEach(u=>{if(!ie.default.existsSync(u))return;let m=ie.default.readFileSync(u,"utf-8"),h=/GENERATED_ABI = \{.*\};\n\n/s,g=a.reduce((v,S)=>(v[S.address]=S.metadata.abi,v),{}),x=JSON.stringify(g,null,2),w=m.replace(h,`GENERATED_ABI = ${x};

`);ie.default.writeFileSync(u,w)});{let u=`${s}/declarations/src/index.d.ts`;if(!ie.default.existsSync(u))return;let m=ie.default.readFileSync(u,"utf-8"),h=/GENERATED_ABI: \{.*\}/s,g=a.reduce((v,S)=>(v[S.address]=S.metadata.abi,v),{}),x=JSON.stringify(g,null,2),w=m.replace(h,`GENERATED_ABI: ${x}`);ie.default.writeFileSync(u,w)}$(`Downloaded and cached ABIs for ${a.length} smart contract${a.length===1?"":"s"}`).succeed();let c=`${r}/package.json`;if(!ie.default.existsSync(c))return;let f=JSON.parse(ie.default.readFileSync(c,"utf-8"));if(f.scripts?.postinstall?.includes("thirdweb generate")||f.scripts?.postinstall?.includes("thirdweb@latest generate"))return;let p=f.scripts?.postinstall?f.scripts.postinstall+"npx --yes thirdweb@latest generate":"npx --yes thirdweb@latest generate";ie.default.writeFileSync(c,JSON.stringify({...f,scripts:{...f.scripts,postinstall:p}},void 0,2)),$(`Added 'npx thirdweb generate' to postinstall in package.json.

 - This is necessary to use 'thirdweb generate' in production.
`).info()}var ha=require("child_process");async function ep(){if(await qm())return{packageManager:await import("detect-package-manager").then(({detect:o})=>o()),isGlobal:!1};if(await Wm())return{packageManager:"npm",isGlobal:!0};if(await Gm())return{packageManager:"yarn",isGlobal:!0};if(await Jm())return{packageManager:"pnpm",isGlobal:!0}}async function qm(){let e=await ga("npm ls --depth=0");return Ri(e||[])}async function Wm(){let e=await ga("npm ls -g --depth=0");return Ri(e||[])}async function Gm(){let e=await ga("yarn --cwd `yarn global dir` list");return Ri(e||[])}async function Jm(){let e=await new Promise(t=>{(0,ha.exec)("pnpm list -g --depth=0",(r,n)=>{let i=[];i=n.split("dependencies:")[1]?.trim().split(`
`)||[],i=i.map(o=>o.replace(" ","@")),t(i)})});return Ri(e||[])}function Ri(e){return e.some(t=>t.match(/^thirdweb/))}async function ga(e){return new Promise(t=>{(0,ha.exec)(e,(r,n)=>{let i=[];i=n.split(`
`),i=i.filter(function(o){if(o.match(/^.+/g)!==null||o.match(/^.+/g)!==null)return!0}),i=i.map(function(o){if(o.match(/^.+/g)!==null)return o.replace(/(^\s|^\s)/g,"");if(o.match(/^.+/g)!==null)return o.replace(/(^\s|^\s)/g,"")}).filter(o=>!!o),t(i)})})}var Di=require("fs");var ya=_(require("inquirer"));var Vm=["@thirdweb-dev/chain-icons"];async function tp(e=".",t){let r=t.debug||!1,n,i,o={},a={},s=[],l=[],c={},f=[],p=new Set,u=new Set,m={package:"",exists:!1},h=!1,g=await ft(e,t),x=await ht(e,t,g),w=await dn(e,t,g),v=x!=="none"&&yi.includes(x)?"contract":"app",S=g==="brownie",P=g==="foundry",R=g==="go-modules",j=["pip","pipenv","poetry"].includes(g),T=["yarn","pnpm","npm"].includes(g);if(T){let E=e+"/package.json";if(!(0,Di.existsSync)(E)){console.error("No package.json file found. Please run this command in the root of your project.");return}let ce=(0,Di.readFileSync)(E),De=O(ce);o=De.dependencies,a=De.devDependencies,c=De.peerDependencies}if(j){let E=ae(e,g);s=E.dependencies,l=E.devDependencies}S&&(m=await hl(/\s*thirdweb-dev\/contracts@\d+\.\d+\.\d+/g)),P&&(h=await gl(e,"thirdweb-contracts")),R&&(f=yl(e));let L=!!o?.ethers||!!a?.ethers,oe=T?t.dev?"@dev":t.nightly?"@nightly":"":"",X=new Set([...Object.keys(o).filter(E=>E.startsWith("@thirdweb-dev/")),...Object.keys(a).filter(E=>E.startsWith("@thirdweb-dev/")),...Object.keys(c).filter(E=>E.startsWith("@thirdweb-dev/")),...s.filter(E=>E.startsWith("thirdweb-sdk")).map(E=>E.split("==")[0]),...l.filter(E=>E.startsWith("thirdweb-sdk")).map(E=>E.split("==")[0]),...f.filter(E=>(console.log("dep",E),E.name==="github.com/thirdweb-dev/go-sdk/v2")).map(E=>E.name)].concat(m.exists?[m.package]:[]).concat(h?["lib/thirdweb-contracts"]:[]));if(v==="contract"?bl({detectedPackageManager:g,thirdwebDepsToUpdate:X,thirdwebDepsToInstall:p,isJSPackageManager:T}):v==="app"&&wl({detectedLibrary:w,detectedFramework:x,hasEthers:L,isGoPackageManager:R,isJSPackageManager:T,isPythonPackageManager:j,otherDeps:u,thirdwebDepsToInstall:p,thirdwebDepsToUpdate:X}),Vm.forEach(E=>{X.delete(E),p.delete(E)}),p.size!==0){let E=await ya.default.prompt({type:"checkbox",choices:[...p],message:"Which thirdweb dependencies would you like to install?",name:"dependencies",default:[...p]});E.dependencies.length!==p.size&&(p.clear(),E.dependencies.forEach(ce=>p.add(ce)))}if(X.size!==0){let E=await ya.default.prompt({type:"checkbox",choices:[...X],message:"Which thirdweb dependencies would you like to update?",name:"dependencies",default:[...X]});E.dependencies.length!==X.size&&(X.clear(),E.dependencies.forEach(ce=>X.add(ce)))}if(p.size===0&&X.size===0){console.log("No thirdweb dependencies to install or update.");return}r&&(y.info("Detected package manager: "+g),y.info("Detected library: "+w),y.info("Detected framework: "+x),y.info("Detected app type: "+v));try{let E=[...[...p].map(De=>`${De}${oe}`),...u],ce=[...X].map(De=>`${De}${oe}`);p.size!==0&&(n=$(`Installing: "${[...p].join('", "')}"`).start(),await No(g,E,[],"install",{oldVersion:m.package,debug:r}),n?.succeed(`Installed: "${E.join('", "')}"`)),X.size!==0&&(i=$(`Updating: "${[...X].join('", "')}"`).start(),await No(g,[],ce,"update",{debug:r}),i?.succeed(`Updated: "${ce.join('", "')}"`))}catch(E){return console.error("Can't install within project: ",E),Promise.reject("Can't install within project")}}var Hm=async()=>{let e=process.env.THIRDWEB_CLI_SKIP_INTRO==="true",t=(0,xa.default)(".thirdweb").config(),r=(0,xa.default)(".thirdweb").cache(),n=Sn.default.join(r,"last-version-check.txt"),i=Sn.default.join(t,"creds.json"),o=Sn.default.join(t,"wallet.json"),a=Sn.default.join(t,"auth-token.txt"),s=new rp.Command;e||(console.info(`
    $$\\     $$\\       $$\\                 $$\\                         $$\\       
    $$ |    $$ |      \\__|                $$ |                        $$ |      
  $$$$$$\\   $$$$$$$\\  $$\\  $$$$$$\\   $$$$$$$ |$$\\  $$\\  $$\\  $$$$$$\\  $$$$$$$\\  
  \\_$$  _|  $$  __$$\\ $$ |$$  __$$\\ $$  __$$ |$$ | $$ | $$ |$$  __$$\\ $$  __$$\\ 
    $$ |    $$ |  $$ |$$ |$$ |  \\__|$$ /  $$ |$$ | $$ | $$ |$$$$$$$$ |$$ |  $$ |
    $$ |$$\\ $$ |  $$ |$$ |$$ |      $$ |  $$ |$$ | $$ | $$ |$$   ____|$$ |  $$ |
    \\$$$$  |$$ |  $$ |$$ |$$ |      \\$$$$$$$ |\\$$$$$\\$$$$  |\\$$$$$$$\\ $$$$$$$  |
     \\____/ \\__|  \\__|\\__|\\__|       \\_______| \\_____\\____/  \\_______|\\_______/ `),console.info(`
 \u{1F48E} thirdweb v${Ut} \u{1F48E}
`)),s.name("thirdweb").description("Official thirdweb command line interface").version(Ut,"-v, --version").option("--skip-update-check","Skip check for auto updates").hook("preAction",async()=>{let l=!bt.default.existsSync(t),c=!bt.default.existsSync(r);if(l&&bt.default.mkdirSync(t,{recursive:!0}),c&&bt.default.mkdirSync(r,{recursive:!0}),e||s.opts().skipUpdateCheck)return;let f=!0;try{let u=bt.default.readFileSync(n,"utf-8");if(u){let m=new Date(u);Date.now()-m.getTime()<1e3*60*60*24&&(f=!1)}}catch{}if(!f)return;let p=ne("Checking for updates...");await import("update-notifier").then(async({default:u})=>{let h=await u({pkg:Ho,shouldNotifyInNpmScript:!0,updateCheckInterval:0}).fetchInfo();p.stop();try{bt.default.writeFileSync(n,new Date().toISOString(),{encoding:"utf-8",mode:384})}catch{}if(h.type!=="latest"&&(await(0,np.default)({type:"toggle",name:"upgrade",message:"A new version of the CLI is available. Would you like to upgrade?",initial:!0,active:"yes",inactive:"no"})).upgrade){let x=ne(`Upgrading CLI to version ${h.latest}...`),w={...process.env};w.THIRDWEB_CLI_SKIP_INTRO="true";let v=await ep();if(!v)return x.succeed(`Now using CLI version ${h.latest}. Continuing execution...`),await new Promise((R,j)=>{(0,kn.spawn)(`npx --yes thirdweb@latest ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:w}).on("close",L=>{L===0?R(""):j()})}),process.exit(0);let S="";switch(v.packageManager){case"npm":S=v.isGlobal?"npm install -g thirdweb":"npm install thirdweb";break;case"yarn":S=v.isGlobal?"yarn global add thirdweb":"yarn add thirdweb";break;case"pnpm":S=v.isGlobal?"pnpm add -g thirdweb@latest":"pnpm add thirdweb@latest";break;default:console.error(`Could not detect package manager in use, aborting automatic upgrade.
If you want to upgrade the CLI, please do it manually with your package manager.`),process.exit(1)}await new Promise((R,j)=>{(0,kn.exec)(S,(T,L,oe)=>{if(T)return j(T);R({stdout:L,stderr:oe})})}),x.succeed(`Successfully upgraded CLI to version ${h.latest}. Continuing execution...`);let P=!v.isGlobal||v.packageManager==="npm"?"npx thirdweb":"thirdweb";await new Promise((R,j)=>{(0,kn.spawn)(`${P} ${process.argv.slice(2).join(" ")}`,[],{stdio:"inherit",shell:!0,env:w}).on("close",L=>L===0?R(""):j())}),process.exit(0)}})}),s.command("install [projectPath]").description("Install thirdweb into your project. If no path is specified, the current directory will be used.").option("--nightly","Install the nightly version of packages.").option("--dev","Install the dev version of packages").option("-d, --debug","show debug logs").action(async(l,c)=>{await tp(l,c)}),s.command("create [projectType] [projectPath]").description("Create a web3 app from any of our official templates: https://github.com/thirdweb-example/").option("--app","Create a web3 app.").option("--contract","Create a web3 contract project").option("--ts, --typescript","Initialize as a TypeScript project.").option("--js, --javascript","Initialize as a JavaScript project.").option("--forge","Initialize as a Forge project.").option("--hardhat","Initialize as a Hardhat project.").option("--extension","Create a smart contract extension.").option("--react","Initialize as a Create React App project.").option("--next","Initialize as a Next.js project.").option("--vite","Initialize as a Vite project.").option("--reactNative","Initialize as a React Native project.").option("--express","Initialize as a Express project.").option("--node","Initialize as a Node project.").option("--pwaVite","Initialize as a PWA project.").option("--use-npm","Explicitly tell the CLI to bootstrap the app using npm").option("--use-pnpm","Explicitly tell the CLI to bootstrap the app using pnpm").option("--framework [name]","The preferred framework.").option("--evm","Initialize as an Ethereum project.").option("-t, --template [name]","A template to start your project from. You can use an template repository name from the official thirdweb-example org.").option("-c, --contract-name [name]","Name of the new smart contract to create").action(async(l,c,f)=>{await Gf(l,c,f)}),s.command("build").description("Compile contract and detect thirdweb contract extensions").option("--clean","clear the cache before building").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").option("-a, --all","run detection on all contracts").action(async l=>{await Gl(l)}),s.command("deploy").description("Securely deploy your contract to any EVM network without having to deal with scripts, private keys, or ABIs").option("-p, --path <project-path>","path to project",".").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("--dist-path [distPath]","Path to the dist folder where the HTML based App is").option("-n, --name [name]","Name of the pre-built or published contract (such as nft-drop)").option("-f, --file [name]","Filter for contract files that contain this file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("-cv, --contract-version [version]","Version of the published contract").option("--app","Deploy a web app to decentralized storage").option("--contract","Deploy a smart contract to blockchains").option("--dynamic","Deploy a dynamic smart contract made up of extensions to blockchains").option("--zksync","Deploy on ZKSync").option("--link-lib <library:address...>","Specify library names and addresses",qo,[]).option("-k, --key <key>","API secret key to authorize usage").action(async l=>{let c="";l.key?(await dr(l.key),c=l.key):await Ot({credsConfigPath:i,cliWalletPath:o,tokenPath:a});let f=await Hf(l,c);f&&!l.ci&&await(0,wa.default)(f)}),s.command("publish").description("Get a shareable page for your contract with a README, changelog, and version control. Enable one-click deploys to any EVM network").option("-p, --path <project-path>","path to project",".").option("-f, --file [name]","Filter for contract files that contain the file name").option("-cn, --contract-name [name]","Filter for contracts that contain this contract name").option("--clean","clear the cache before building").option("--dry-run","dry run (skip actually publishing)").option("-d, --debug","show debug logs").option("--ci","Continuous Integration mode").option("--link-lib <library:address...>","Specify library names and addresses",qo,[]).option("-k, --key <key>","API secret key to authorize usage").action(async l=>{let c="";l.key?(await dr(l.key),c=l.key):await Ot({credsConfigPath:i,cliWalletPath:o,tokenPath:a});let f=await fi(l,"publish",c);M(`Open this link to publish your contracts: ${d.blueBright(f.toString())}`),f&&!l.ci&&await(0,wa.default)(f.toString())}),s.command("upload").description("Upload any file or directory to decentralized storage (IPFS)").argument("[upload]","path to file or directory to upload").option("-k, --key <key>","API secret key to authorize usage").action(async(l,c)=>{let f="",p;c.key?(await dr(c.key),f=c.key):await Ot({credsConfigPath:i,cliWalletPath:o,tokenPath:a}),f?p=new ba.ThirdwebStorage({secretKey:f}):p=new ba.ThirdwebStorage;try{let u=await Ci(p,l);M(`Files stored at the following IPFS URI: ${d.blueBright(u.toString())}`);let m=p.resolveScheme(u);M(`Open this link to view your upload: ${d.blueBright(m.toString())}`)}catch(u){u.toString()==="No files detected in specified directory"||u.toString()==="Invalid path provided"||u.toString()==="No path provided"?y.error(d.redBright("Please specify a valid file or directory to upload")):y.error(d.redBright(u.message?u.message:u))}}),s.command("detect").description("Detect the type of project your are running and let you know what it is.").option("-p, --path <project-path>","path to project",".").option("-d, --debug","show debug logs").action(async l=>{await wf(l)}),s.command("generate").description("Preload ABIs and generate types for your smart contract to strongly type the thirdweb SDK").option("-p, --path <project-path>","path to project",".").option("-k, --key <key>","API secret key to authorize usage").action(async l=>{let c="";l.key?(await dr(l.key),c=l.key):await Ot({credsConfigPath:i,cliWalletPath:o,tokenPath:a}),await Qf(l,c)}),s.command("login").description("Authorize your device to use the thirdweb CLI by authenticating with your wallet from our dashboard").action(async l=>{await Ot({credsConfigPath:i,cliWalletPath:o,tokenPath:a},l,!0)}),s.command("logout").description("Logout of the thirdweb CLI").action(async()=>{await Tl(i,a,o)}),await s.parseAsync()};Hm().then(()=>{process.exit(0)}).catch(e=>{y.error(e),process.exit(1)});
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=index.js.map